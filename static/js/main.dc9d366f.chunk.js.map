{"version":3,"sources":["components/Header.module.css","redux/usersReducer.js","api/api.js","App.module.css","components/Profile/Profile.module.css","assets/images/editmode2.png","assets/images/letter3.png","assets/images/it_logo.jpg","assets/images/letter2.png","assets/images/back.png","components/Profile/MyPosts/Post/Post.module.css","components/common/FormControls/FormControls.module.css","components/Login/Login.module.css","components/common/Preloader/Preloader.js","components/Navbar.module.css","serviceWorker.js","utils/validators/FormValidator.js","components/News/News.js","components/Music/Music.js","components/Settings/Setting.js","components/Friends/Friends.js","components/common/Preloader/StatusPreloader.js","components/Profile/ProfileInfo/ProfileStatusFunctional.js","components/common/FormControls/FormControls.js","components/Profile/ProfileInfo/EditProfileForm.js","components/Profile/ProfileInfo/ProfileInfo.js","redux/profileReducer.js","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js","components/Header.js","redux/authReducer.js","redux/dialogsReducer.js","components/HeaderContainer.js","components/Login/Login.js","components/Login/LoginContainer.js","redux/appReducer.js","components/Footer.js","components/NotFound.js","components/Dialogs/Dialog/Dialog.js","components/Dialogs/Message/Message.js","components/Dialogs/ChatWithFriend.js","components/Dialogs/Dialogs.js","components/Dialogs/DialogsContainer.js","App.js","redux/friendsReducer.js","redux/reduxStore.js","index.js","assets/images/smallNoImages.jpg","components/Dialogs/Dialogs.module.css","components/hoc/withAuthRedirect.js","assets/images/loader.gif","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Footer.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Users/Users.module.css","assets/images/noimages.png"],"names":["module","exports","header","mymove","logoContainer","logo","spin","login","button","menu","linkContainer","msgImg","msgCounter","activeLink","setIsFetchingAC","isFetching","type","setIsDisable","isDisable","userId","getUsers","selectedPage","pageSize","dispatch","UsersAPI","then","data","users","items","setSelectedPageAC","totalUsersCount","totalCount","followThunkCreator","Follow","resultCode","followAC","unfollowThunkCreator","UnFollow","unfollowAC","initialState","isPaginationFetching","usersReducer","state","arguments","length","undefined","action","Object","C_Dev_react_way_of_samurai_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","fake","map","user","id","followed","C_Dev_react_way_of_samurai_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","concat","filter","__webpack_require__","d","__webpack_exports__","AuthAPI","SecurityAPI","ProfileApi","DialogsApi","axios__WEBPACK_IMPORTED_MODULE_0__","instance","axios","baseURL","withCredentials","headers","API-KEY","AuthMe","get","Login","email","password","rememberMe","captcha","post","Logout","delete","getCaptcha","GetProfileData","console","warn","response","GetStatus","UpdateStatus","newStatus","put","status","UploadAva","file","formData","FormData","append","Content-Type","SaveProfile","profileData","GetAllDialogs","GetDialogWithFriend","friendId","res","getMessagesList","sendMessage","message","body","catch","e","log","getCountOfNewMessages","content","p","item","likeImg","logodiv","textCont","txt","formCont","buttonCont","textarea","addPostButtonCont","addPostButton","formControl","errorText","fieldArea","formCommonError","container","card","cardTitle","inputs","captchaImg","buttonContainer","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_assets_images_loader_gif__WEBPACK_IMPORTED_MODULE_1__","_assets_images_loader_gif__WEBPACK_IMPORTED_MODULE_1___default","Preloader","a","createElement","className","style","margin","display","justifyContent","alignItems","src","load","alt","nav","Boolean","window","location","hostname","match","minLength","News","react_default","Music","Settings","Friends","props","StatusPreloader","height","width","ProfileStatusFunctional","_useState","useState","_useState2","slicedToArray","editMode","setEditMode","_useState3","_useState4","setStatus","useEffect","isStatusFetching","Preloader_StatusPreloader","onChange","currentTarget","value","onBlur","updateStatus","autoFocus","onDoubleClick","required","maxLengthCreator","maxLength","Textarea","_ref","input","meta","objectWithoutProperties","touched","error","assign","Input","_ref2","maxLengthValidate30","maxLengthValidate150","minLengthCreator4","EditProfileReduxForm","reduxForm","form","profile","userEditProfile","onSubmit","handleSubmit","userName","Field","validate","component","name","editLFJ","userEditSkill","for","userContactsTitle","keys","contacts","k","editContactItem","minWidth","key","placeholder","onClick","setIsEditProfile","ProfileInfo","saveProfile","Contacts","title","aboutMe","href","bigImg","photos","large","userNoPhoto","userProfile","userImg","flexDirection","position","Fragment","i","loadCont","profileImgContainer","opacity","profileImg","isOwner","inputButtonContainer","inputButton","target","files","uploadAvatar","uploadAvaMsg","uploadMsg","uploadError","join","success","uploadSuccess","react_router_dom","to","letterImg","Letter","isEditMode","ProfileInfo_EditProfileForm","initialValues","_ref3","goSetEditMode","test","userProfileData","userNameStatusCont","userNameCont","fullName","split","w","toUpperCase","slice","editProfileButtonCont","editProfileButton","userStatus","ProfileInfo_ProfileStatusFunctional","lookingForAJob","lookingForAJobDescription","userContacts","values","every","el","setUserProfile","setIsFetching","setIsStatusFetching","msg","errorMsg","successMsg","posts","likesCount","isLiked","selectedUser","profileReducer","prevId","newPost","objectSpread","toConsumableArray","postId","Post","imgSrc","profileSmallImg","addLike","likeCount","MyPosts","React","memo","noUserImage","postElements","sort","b","MyPosts_Post_Post","onAddPost","addPost","maxLength350","AddPostForm","onKeyDown","keyCode","shiftKey","s","postsCont","textData","MyPostsContainer","connect","profilePage","isLike","Profile","Profile_ProfileInfo_ProfileInfo","MyPosts_MyPostsContainer","ProfileContainer","this","params","authId","history","push","getStatus","RefreshProfile","prevProps","prevState","snapshot","components_Profile_Profile","Component","compose","auth","alert","reload","setTimeout","messages","getState","parceFieldsFromError","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","lastIndexOf","toLowerCase","err","return","stopSubmit","withRouter","withAuthRedirect","Header","h","activeClassName","newMessageCount","letter","isAuth","LogoutThunk","setAuthUserData","payload","getCaptchaSuccess","captchaUrl","AuthMeThunk","_response$data$data","GetCaptcha","url","authReducer","setIsAddingMsg","is","dialogsPage","find","countNewMessages","count","dialogs","hasNewMessages","lastDialogActivityDate","lastUserActivityDate","newMessagesCount","small","addedAt","recipientId","senderId","senderName","translatedBody","viewed","isAddingMsg","dialogsReducer","newMsg","addMsg","_loop","HeaderContainer","components_Header","ReduxLoginForm","htmlFor","react_router","iCaptcha","LoginThunk","LoginContainer","_error","initSuccess","appReducer","Footer","f","Date","getFullYear","NotFound","Dialog","logoSmall","noLogo","lastDialogActivity","parseServerDate","active","textDecoration","imgLogo","date","time","Message","added","shortMsg","msgCont","lastMessageIsMine","meSenderTitle","senderTitle","msgTime","msgText","myMsgText","ChatWithFriend","useHistory","chatMsg","chatDialog","dialog","myAva","friendAva","maxLength150","AddMessageFormRedux","chatCommon","backImg","chatCont","myChatItem","frChatHeader","frAva","titleData","alignSelf","frChatItem","addDialogDiv","_yymmdd$split","indexOf","_yymmdd$split2","yy","Dialogs","urlFriendId","lastMsg","lastMsgFind","pop","renderSweetFromShit","allChats","Dialogs_Dialog_Dialog","Dialogs_Message_Message","Dialogs_ChatWithFriend","dialogsItems","getAllDialogs","getDialogWithFriend","components_Dialogs_Dialogs","UsersContainer","lazy","bind","App","catchUnhandleedErrors","reason","promise","InitializeAppThunk","addEventListener","removeEventListener","Suspense","fallback","components_HeaderContainer","exact","path","render","Dialogs_DialogsContainer","components_News_News","components_Music_Music","Setting","components_Friends_Friends","Login_LoginContainer","Profile_ProfileContainer","components_NotFound","components_Footer","app","friendsReducer","reducers","combineReducers","friendsPage","usersPage","formReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleWare","ReactDOM","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","dialogsCont","dialogsItem","msgs","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","MapStateToProps","ava","notLookingForAJob","contactsItems","user_item","left","right","loc","pages"],"mappings":"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","file":"static/js/main.dc9d366f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2eK0K\",\"mymove\":\"Header_mymove__295AH\",\"logoContainer\":\"Header_logoContainer__3P0HL\",\"logo\":\"Header_logo__2I3GR\",\"spin\":\"Header_spin__CEDR5\",\"login\":\"Header_login__1vQQ2\",\"button\":\"Header_button__3W2Xg\",\"menu\":\"Header_menu__4SLae\",\"linkContainer\":\"Header_linkContainer__3PmKm\",\"msgImg\":\"Header_msgImg__2e33Y\",\"msgCounter\":\"Header_msgCounter__mafZG\",\"activeLink\":\"Header_activeLink__3gRI2\"};","import {UsersAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_PAGE = 'SET_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst IS_FETCHING = 'IS_FETCHING';\r\nconst IS_DISABLE = 'IS_DISABLE';\r\n\r\nexport const followAC = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowAC = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsersAC = (users) => ({type: SET_USERS, users});\r\nexport const setSelectedPageAC = (selectedPage) => ({type: SET_PAGE, selectedPage});\r\nexport const setTotalUsersCountAC = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount})\r\nexport const setIsFetchingAC = (isFetching) => ({type: IS_FETCHING, isFetching});\r\nexport const setIsDisable = (isDisable, userId) => ({type: IS_DISABLE, isDisable, userId});\r\n\r\n// thunk\r\n\r\nexport const getUsers = (selectedPage, pageSize) => {\r\n    return (dispatch) => {\r\n        dispatch(setIsFetchingAC(true));\r\n        UsersAPI.getUsers(selectedPage, pageSize).then(data => {\r\n            // console.log(data.items, 'api here');\r\n            dispatch(setUsersAC(data.items));\r\n            dispatch(setSelectedPageAC(selectedPage));\r\n            dispatch(setTotalUsersCountAC(data.totalCount));\r\n            dispatch(setIsFetchingAC(false));\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const followThunkCreator = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(setIsDisable(true, userId));\r\n        UsersAPI.Follow(userId).then(data => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(followAC(userId));\r\n            }\r\n            dispatch(setIsDisable(false, userId));\r\n        });\r\n    }\r\n};\r\n\r\nexport const unfollowThunkCreator = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(setIsDisable(true, userId));\r\n        UsersAPI.UnFollow(userId).then(data => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(unfollowAC(userId));\r\n            }\r\n            dispatch(setIsDisable(false, userId));\r\n        });\r\n    }\r\n};\r\n\r\nconst initialState = {\r\n    users: [\r\n        // {id: '1', name: 'John', status: 'irock', location: {id: 0, city: 'Minsk', country: 'Belarus'}, followed: true, avaUrl: '',},\r\n        // {id: '2', name: 'Ivan', status: 'watch tv', location: {id: 0, city: 'Moscow', country: 'Russia'} , followed: true,},\r\n        // {id: '3', name: 'Jogahn Gunz', status: 'playing', location: {id: 0, city: 'Berlin', country: 'Germany'}, followed: false,},\r\n        // {id: '4', name: 'Freedrech', status: 'listen music', location: {id: 0, city: 'Naked City', country: 'Austria'} , followed: false,},\r\n    ],\r\n    pageSize: 25,\r\n    totalUsersCount: 0,\r\n    selectedPage: 1,\r\n    isFetching: false,\r\n    isPaginationFetching: false,\r\n    isDisable: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case (\"FAKE\") : return {...state, fake: state.fake +1};\r\n\r\n        case (FOLLOW) :\r\n            return {\r\n                ...state,\r\n                // users: [...state.users],\r\n                users: state.users.map( user => {\r\n                    if (user.id === action.userId) {\r\n                        return { ...user, followed: true}\r\n                    }\r\n                    return user;\r\n                })\r\n            };\r\n\r\n        case (UNFOLLOW) :\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user=> {\r\n                    if (user.id === action.userId) {\r\n                        return {...user, followed: false}\r\n                    }\r\n                    return user;\r\n                })\r\n            };\r\n\r\n        case (SET_USERS) :\r\n            return {\r\n                ...state, users: [...action.users],\r\n                            };\r\n\r\n        case (SET_PAGE) :\r\n            return {\r\n                ...state, selectedPage: action.selectedPage,\r\n            };\r\n\r\n        case (SET_TOTAL_USERS_COUNT) :\r\n            return {\r\n                ...state, totalUsersCount: action.totalUsersCount,\r\n            };\r\n\r\n        case (IS_FETCHING) :\r\n            return {\r\n            ...state, isFetching: action.isFetching\r\n        }\r\n\r\n        case (IS_DISABLE) :\r\n            return {\r\n                ...state,\r\n                isDisable: (action.isDisable) ? [...state.isDisable, action.userId] : state.isDisable.filter(user => user !== action.userId )\r\n            }\r\n\r\n        default:\r\n            return (state);\r\n    }\r\n\r\n}\r\n\r\nexport default usersReducer;","import * as axios from \"axios\";\r\n// import React from 'react';\r\n// const axios = require('axios').default;\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        // 'API-KEY': '537bb101-34d5-4e34-81ad-544337f8e7e9'\r\n        //vetal\r\n        'API-KEY': '170b994a-dd0a-4181-8c2a-bc0cc0adf830'\r\n    }\r\n});\r\n\r\nexport const AuthAPI = {\r\n    AuthMe() {\r\n            return instance.get(`auth/me`);\r\n    },\r\n\r\n    Login(email, password, rememberMe = false, captcha= null) {\r\n            return instance.post(`/auth/login`, {email, password, rememberMe, captcha});\r\n            // .then(res=>console.log(res, ' resault of login '));\r\n    },\r\n\r\n    Logout() {\r\n            return instance.delete(`auth/login`);\r\n    }\r\n\r\n}\r\n\r\nexport const SecurityAPI = {\r\n    getCaptcha () {\r\n            return instance.get(`security/get-captcha-url`);\r\n    }\r\n}\r\n\r\nexport const UsersAPI = {\r\n\r\n    GetProfileData(id) {\r\n            console.warn('Obsolete method, please use ProfileApi object here');\r\n            return ProfileApi.GetProfileData(id);\r\n\r\n    },\r\n\r\n    getUsers(selectedPage = 1, pageSize = 10) {\r\n            return instance.get(`users?page=${selectedPage}&count=${pageSize}`)\r\n                .then(response => response.data);\r\n    },\r\n\r\n    Follow(userId) {\r\n            return instance.post(`follow/${userId}`, {},)\r\n                .then(response => response.data);\r\n    },\r\n\r\n    UnFollow(userId) {\r\n            return instance.delete(`follow/${userId}`)\r\n                .then(response => response.data);\r\n    },\r\n}\r\n\r\nexport const ProfileApi = {\r\n\r\n    GetStatus(userId = 2) {\r\n            return instance.get(`profile/status/${userId}`);\r\n    },\r\n\r\n    UpdateStatus(newStatus) {\r\n            return instance.put(`profile/status`, {status: newStatus});\r\n    },\r\n\r\n    GetProfileData(id) {\r\n            return instance.get(`profile/${id}`).then(response => response.data);\r\n    },\r\n\r\n    UploadAva(file) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", file);\r\n            return instance.put(`profile/photo`, formData, {headers: {'Content-Type': 'multipart/form-data'}})\r\n                .then(response => response.data);\r\n\r\n    },\r\n\r\n    SaveProfile(profileData) {\r\n            return instance.put(`profile`, profileData).then(response => response.data);\r\n    }\r\n};\r\n\r\n\r\n//25643\r\nexport const DialogsApi = {\r\n    GetAllDialogs() {\r\n        return instance.get(`dialogs`);\r\n    },\r\n\r\n    GetDialogWithFriend(friendId) {\r\n        return instance.put(`dialogs/${friendId}`, friendId).then(res => res.data);\r\n    },\r\n\r\n    getMessagesList(friendId) {\r\n        return instance.get(`dialogs/${friendId}/messages`).then(res => res.data);\r\n    },\r\n\r\n    sendMessage(friendId, message) {\r\n        return instance.post(`dialogs/${friendId}/messages`, {body: message}).then(res => res.data)\r\n            .catch(e=> console.log(e));\r\n    },\r\n\r\n    getCountOfNewMessages() {\r\n        return instance.get(`dialogs/messages/new/count`);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"App_content__2LpSI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__3gbBf\"};","module.exports = __webpack_public_path__ + \"static/media/editmode2.e818ac09.png\";","module.exports = __webpack_public_path__ + \"static/media/letter3.2edc8e17.png\";","module.exports = __webpack_public_path__ + \"static/media/it_logo.4117677c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/letter2.811a9ae3.png\";","module.exports = __webpack_public_path__ + \"static/media/back.fa6de9a3.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1DuBJ\",\"logo\":\"Post_logo__1Yi-a\",\"likeImg\":\"Post_likeImg__3gz_L\",\"logodiv\":\"Post_logodiv__3ZcJA\",\"textCont\":\"Post_textCont__13dn_\",\"txt\":\"Post_txt__3ZtUi\",\"formCont\":\"Post_formCont__lxHDC\",\"buttonCont\":\"Post_buttonCont__1_2eX\",\"textarea\":\"Post_textarea__2WqQy\",\"addPostButtonCont\":\"Post_addPostButtonCont__3px3-\",\"addPostButton\":\"Post_addPostButton__22wRc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2sZDE\",\"errorText\":\"FormControls_errorText__2tyzZ\",\"fieldArea\":\"FormControls_fieldArea__3PKkH\",\"formCommonError\":\"FormControls_formCommonError__3hWdq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__3sse8\",\"card\":\"Login_card__MqP_Y\",\"cardTitle\":\"Login_cardTitle__2QohQ\",\"inputs\":\"Login_inputs__3oNFo\",\"rememberMe\":\"Login_rememberMe__32Tn6\",\"captchaImg\":\"Login_captchaImg__1D9SS\",\"buttonContainer\":\"Login_buttonContainer__3zpfp\",\"button\":\"Login_button__yR83U\"};","import React from \"react\";\r\n// import i from \"../../Users/Users.module.css\";\r\nimport load from \"../../../assets/images/loader.gif\";\r\n\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div className={'i.loadCont'} style={{margin: '0 auto', display: 'flex',\r\n            justifyContent: 'center', alignItems: 'center'}}  >\r\n            <img className={'i.load'} src={load} alt='preload'/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__PIrdo\",\"activeLink\":\"Navbar_activeLink__pKUJQ\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","export const required = value => (value || typeof value === 'number' ? undefined : 'Required fill');\r\n\r\n\r\nexport const maxLengthCreator = maxLength => value =>\r\n    (value && value.length > maxLength ? `max length is ${maxLength} symbols` : undefined);\r\n\r\nexport const minLengthCreator = minLength => value =>\r\n    (value && value.length < minLength ? `minimal length is ${minLength} symbols` : undefined);","import React from 'react';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div></div>\r\n    );\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div></div>\r\n    );\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div></div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\n\r\nconst Friends = (props) => {\r\n\r\n    return (\r\n        <div>\r\n          Hi friends!\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Friends;","import React from \"react\";\r\n// import i from \"../../Users/Users.module.css\";\r\nimport load from \"../../../assets/images/loader.gif\";\r\n\r\n\r\nconst StatusPreloader = () => {\r\n    return (\r\n        <div className={'i.loadCont'} style={{margin: '0 auto'}}  >\r\n            <img className={'i.load'} style={{height: '60px', width: '60px'}} src={load} alt='preload'/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StatusPreloader;","import React, {useEffect, useState} from \"react\";\r\n// import Preloader from \"../../common/Preloader/Preloader\";\r\nimport StatusPreloader from \"../../common/Preloader/StatusPreloader\";\r\n\r\nconst ProfileStatusFunctional = (props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode( true);\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode( false);\r\n        if (status !== props.status) {\r\n            props.updateStatus(status);\r\n        }\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        // console.log(e.currentTarget.value);\r\n        setStatus( e.currentTarget.value);\r\n    }\r\n\r\n    if (props.isStatusFetching) return <StatusPreloader/>\r\n    return(\r\n        <div>\r\n            {!(editMode)\r\n                ? <div onDoubleClick={activateEditMode}>{props.status || 'empty status'}</div>\r\n\r\n                : <input type=\"text\"  onChange={onStatusChange} onBlur={deactivateEditMode}\r\n                         value={status} autoFocus={true}/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusFunctional;","import React from \"react\";\r\nimport style from \"./FormControls.module.css\"\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    return(\r\n        <div className={style.formControl}>\r\n            {meta.touched && meta.error && <div className={style.errorText}>{meta.error}</div>}\r\n            <div>\r\n                <textarea {...input} {...props} className={meta.touched && meta.error ? style.fieldArea : ''}>></textarea>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    return (\r\n        <div className={style.formControl}>\r\n            {meta.touched && meta.error &&\r\n                <div className={style.errorText}>{meta.error}</div>\r\n            }\r\n            <div>\r\n                <input {...input} {...props} className={meta.touched && meta.error ? style.fieldArea : ''}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport p from \"./ProfileInfo.module.css\";\r\nimport ProfileStatusFunctional from \"./ProfileStatusFunctional\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, minLengthCreator, required} from \"../../../utils/validators/FormValidator\";\r\nimport {Input, Textarea} from \"../../common/FormControls/FormControls\";\r\nimport style from \"../../common/FormControls/FormControls.module.css\";\r\nimport s from \"../../Login/Login.module.css\";\r\n\r\nconst Contacts = ({title, value}) => {\r\n    return <div>{title}: {value} </div>\r\n}\r\n\r\nconst maxLengthValidate30 = maxLengthCreator(30);\r\nconst maxLengthValidate150 = maxLengthCreator(150);\r\n\r\nconst minLengthCreator4 = minLengthCreator(4);\r\n\r\nconst EditProfileForm = ({profile, error, ...props}) => {\r\n\r\n\r\n    return (\r\n        <div className={p.userEditProfile}>\r\n            <form onSubmit={props.handleSubmit}>\r\n                {error && <div className={style.errorText}>{error}</div>}\r\n\r\n                <div className={p.userName}>\r\n                    {/*    Full Name:*/}\r\n                    <Field validate={[required, maxLengthValidate30, minLengthCreator4]} component={Input}\r\n                              type='text' name={'fullName'}/>\r\n                </div>\r\n\r\n                <div className={p.editLFJ + \" \" + p.userEditSkill}>\r\n                    <label for=\"lookforjob\">Looking for a job: </label>\r\n                    <Field component={Input} id={\"lookforjob\"} type='checkbox' name={'lookingForAJob'}/>\r\n                </div>\r\n                <div className={p.userEditSkill}>\r\n                    Skills:\r\n                    <Field validate={[required, maxLengthValidate150, minLengthCreator4]} component={Textarea}\r\n                           type='text' name={'lookingForAJobDescription'}/>\r\n                </div>\r\n                <div className={p.userEditSkill}>\r\n                    About me:\r\n                    <Field validate={[required, maxLengthValidate150, minLengthCreator4]} component={Textarea}\r\n                           type='text' name={'aboutMe'}/>\r\n                </div>\r\n\r\n                <div className={'p.userContacts'}>\r\n                    <div className={p.userContactsTitle}>My Contacts:</div>\r\n\r\n                    {Object.keys(profile.contacts).map(k => {\r\n                        return (<div className={p.editContactItem}>\r\n                            <b style={{minWidth: '150px'}}>{k}: </b>\r\n                            <Field key={k} placeholder={k} name={\"contacts.\" + k} component={Input} type={'text'}/>\r\n                        </div>)\r\n                    })\r\n                    }\r\n                </div>\r\n                    <div className={p.buttonContainer}>\r\n                        <button className={p.button} >Save</button>\r\n                        <button  className={p.button}  type={'reset'} onClick={() => {\r\n                            props.setIsEditProfile(false)\r\n                        }}>Cancel\r\n                        </button>\r\n                    </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst EditProfileReduxForm = reduxForm({form: 'editProfile'})(EditProfileForm);\r\n\r\nexport default EditProfileReduxForm;","import React from 'react';\r\nimport p from './ProfileInfo.module.css';\r\nimport userNoPhoto from \"../../../assets/images/noimages.png\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\n// import ProfileStatus from \"./ProfileStatus\";\r\nimport editProfileButton from \"../../../assets/images/editmode2.png\"\r\nimport ProfileStatusFunctional from \"./ProfileStatusFunctional\";\r\nimport EditProfileReduxForm from \"./EditProfileForm\";\r\n// import {saveProfile, setIsEditProfile} from \"../../../redux/profileReducer\";\r\nimport i from \"../../Users/Users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Letter from \"../../../assets/images/letter3.png\";\r\n\r\nconst toUpCase = (name) => {\r\n    if (name && name.length>0) {\r\n        let arr = name.split(\" \");\r\n        return arr.map(w => {\r\n            return   w[0].toUpperCase() + w.slice(1);\r\n        } ).join(\" \");\r\n    } else return false;\r\n}\r\n\r\nconst ProfileInfo = ({saveProfile, ...props}) => {\r\n\r\n\r\n    const Contacts = ({title, value}) => {\r\n        return <div className={p.aboutMe}>\r\n            <b>  {title} </b>: <a href={value}>{value}</a>\r\n        </div>\r\n    }\r\n\r\n\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n\r\n    const profile = props.profile;\r\n    const bigImg = (props.profile.photos.large) ? props.profile.photos.large : userNoPhoto;\r\n\r\n    const onDownloadAva = (e) => {\r\n        // console.log(e.target.files[0]);\r\n        e.target.files.length && props.uploadAvatar(e.target.files[0]);\r\n    }\r\n\r\n    const UploadAvaInformation = (props) => {\r\n        if (props.uploadAvaMsg.error && props.uploadAvaMsg.error.length)\r\n            return <div className={p.uploadMsg + \" \" + p.uploadError}>{props.uploadAvaMsg.error.join('\\n')}</div>\r\n\r\n        else if (props.uploadAvaMsg.success && props.uploadAvaMsg.success.length)\r\n            return <div className={p.uploadMsg + \" \" + p.uploadSuccess}>{props.uploadAvaMsg.success.join('\\n')}</div>\r\n\r\n        else return <></>\r\n    };\r\n\r\n\r\n    const ProfileData = ({profile, isOwner, goSetEditMode}) => {\r\n        return (\r\n            <>\r\n                <div className={p.test}>\r\n                    <div className={p.userProfileData}>\r\n\r\n                        <div className={p.userNameStatusCont}>\r\n                            <div className={p.userNameCont}>\r\n                                <div className={p.userName}>\r\n                                    {toUpCase(profile.fullName)}\r\n                                </div>\r\n\r\n                                {/* edit profile button*/}\r\n                                {isOwner &&\r\n                                    <div className={p.editProfileButtonCont} onClick={goSetEditMode}>\r\n                                        {/*Edit profile*/}\r\n                                        <img className={p.editProfileButton} src={editProfileButton}\r\n                                             alt=\"edit profile button\"/>\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n                            <div className={p.userStatus}>\r\n                                {/*<ProfileStatus status={props.status} updateStatus={props.updateStatus} isFetching={props.isFetching}/>*/}\r\n                                {isOwner ?\r\n                                    <ProfileStatusFunctional status={props.status} updateStatus={props.updateStatus}\r\n                                                             isOwner={props.isOwner}\r\n                                                             isStatusFetching={props.isStatusFetching}/>\r\n                                : props.status\r\n                                }\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        {(profile.aboutMe) &&\r\n                            <div className={p.aboutMe}>\r\n                                <b>About me:</b> {profile.aboutMe}\r\n                            </div>\r\n                        }\r\n\r\n                        <div className={p.aboutMe}>\r\n                            {profile.lookingForAJob ? \"I'm looking for a job\" : ''}\r\n                        </div>\r\n\r\n                        {profile.lookingForAJob &&\r\n                            <div className={p.aboutMe}>\r\n                                <b>Skills:</b> {profile.lookingForAJobDescription}\r\n                            </div>\r\n                        }\r\n\r\n\r\n                    </div>\r\n\r\n                    <div className={p.userContacts}>\r\n                        <div className={p.userContactsTitle}>My Contacts:</div>\r\n                        {\r\n                            Object.keys(profile.contacts).map(k => {\r\n                                if (profile.contacts[k]) {\r\n                                    return <Contacts key={k} title={k} value={profile.contacts[k]}/>\r\n                                }\r\n                            })}\r\n                        {\r\n                            (Object.values(profile.contacts).every(el => el === null || el === undefined)) &&\r\n                            <div><i>Пользователь предпочел не указывать данные</i></div>\r\n\r\n                        }\r\n\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n            ;\r\n    }\r\n\r\n    const onSubmit = (data) => {\r\n        // console.log(data);\r\n        saveProfile(data);\r\n    }\r\n\r\n\r\n    return (\r\n        // <div className={p.content}>\r\n        <div className={p.userProfile}>\r\n\r\n            <div className={p.userImg}>\r\n\r\n                {/* Аватарка*/}\r\n                <div style={{display: 'flex', flexDirection: 'column', position: 'relative'}}>\r\n                    {props.isFetching\r\n                        ?\r\n                        <>\r\n                            <div className={i.loadCont}>\r\n                                <div className={i.load}>\r\n                                    <Preloader/>\r\n                                </div>\r\n                            </div>\r\n                            <div className={p.profileImgContainer}>\r\n                                <img style={{opacity: '0.4'}} src={bigImg} alt=\"avatar\"\r\n                                     className={p.profileImg}\r\n                                />\r\n                            </div>\r\n                        </>\r\n\r\n                        :\r\n                        <div className={p.profileImgContainer}>\r\n                            <img src={bigImg} alt=\"avatar\"\r\n                                // className={(profile.lookingForAJob) ? p.lookingForAJob : p.notLookingForAJob}\r\n                                 className={p.profileImg}\r\n                            />\r\n                            {/* Кнопка загрузки изображения */}\r\n                            {props.isOwner &&\r\n                                <div className={p.inputButtonContainer}>\r\n                                    <label className={p.inputButton}>\r\n                                        <input type={'file'} onChange={onDownloadAva}/>\r\n                                        <span className=\"input-file-btn\">Изменить</span>\r\n                                    </label>\r\n                                </div>}\r\n                        </div>}\r\n                        <UploadAvaInformation uploadAvaMsg={props.uploadAvaMsg}/>\r\n                        {!props.isOwner &&\r\n                        <NavLink to={`/dialogs/${props.profile.userId}`}>\r\n                            <div className={p.letterImg}>\r\n                                <img src={Letter} alt=\"Send Message\"/>\r\n                            </div>\r\n                        </NavLink> }\r\n\r\n\r\n\r\n\r\n                </div>\r\n\r\n\r\n                {props.isEditMode ?\r\n                    <EditProfileReduxForm {...props} onSubmit={onSubmit} initialValues={profile}/>\r\n                    :\r\n                    <ProfileData profile={profile} isOwner={props.isOwner}\r\n                                 goSetEditMode={() => {\r\n                                     props.setIsEditProfile(true)\r\n                                 }}\r\n                    />\r\n                }\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n        // </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;","import {ProfileApi, UsersAPI} from \"../api/api\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst ADD_LIKE_TOGGLE = 'ADD_LIKE_TOGGLE';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SELECT_USER = 'SELECT_USER';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst IS_FETCHING = 'IS_FETCHING';\r\nconst IS_STATUS_FETCHING = 'IS_STATUS_FETCHING';\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst UPLOAD_AVA_SUCCESS = \"UPLOAD_AVA_SUCCESS\";\r\nconst UPLOAD_AVA_MSG = \"UPLOAD_AVA_MSG\";\r\nconst SET_IS_EDIT_PROFILE = \"SET_IS_EDIT_PROFILE\";\r\n\r\n// action creators\r\nexport const addPost = (post) => ({type: ADD_POST, post});\r\nexport const addLike = (postId, isLike) => ({type: ADD_LIKE_TOGGLE, postId});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const setIsFetching = (isFetching) => ({type: IS_FETCHING, isFetching});\r\nexport const setIsStatusFetching = (isStatusFetching) => ({type: IS_STATUS_FETCHING, isStatusFetching});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const uploadAvaSuccess = (file) => ({type: UPLOAD_AVA_SUCCESS, file});\r\nexport const uploadAvaMsg = (errorMsg=null, successMsg=null) => ({type: UPLOAD_AVA_MSG, msg: {errorMsg, successMsg}});\r\nexport const setIsEditProfile = (isEditMode) => ({type: SET_IS_EDIT_PROFILE, isEditMode});\r\n\r\n// Сани\r\nexport const getStatus = (userId) => {\r\n    return (dispatch) => {\r\n       ProfileApi.GetStatus(userId).then(res => {\r\n           // console.log(res);\r\n        if (res.status === 200) {\r\n            dispatch(setStatus(res.data));\r\n        }});\r\n    }\r\n};\r\n\r\nexport const uploadAvatar = (file) => {\r\n    return (dispatch) => {\r\n        dispatch(setIsFetching(true));\r\n\r\n        ProfileApi.UploadAva(file).then(res => {\r\n            // console.log(res, 'res data photoes');\r\n            if(res.resultCode === 0) {\r\n\r\n                dispatch(uploadAvaSuccess(res.data.photos));\r\n                dispatch(setIsFetching(false));\r\n                // мое творчество вывод сообщения об успехе загрузки авки\r\n                dispatch(uploadAvaMsg(null, ['Uploading file is done!']));\r\n                setTimeout(()=> {dispatch(uploadAvaMsg(null));}, 2500);\r\n            } else {\r\n                dispatch(setIsFetching(false));\r\n                // console.log(res.messages, 'error');\r\n                // мое творчество вывод ошибок\r\n                dispatch(uploadAvaMsg(res.messages, null));\r\n                setTimeout(()=> {dispatch(uploadAvaMsg(null));}, 2500);\r\n            }\r\n\r\n        });\r\n    }\r\n}\r\n\r\nexport const updateStatus = (status) => {\r\n    return (dispatch) => {\r\n        dispatch(setIsStatusFetching(true));\r\n\r\n            ProfileApi.UpdateStatus(status).then(res => {\r\n                // console.log(res);\r\n                dispatch(setIsStatusFetching(false));\r\n                if (res.data.resultCode === 0) {\r\n                    dispatch(setStatus(status));\r\n                }\r\n            })\r\n                .catch(e=> {\r\n                    alert(e.message);\r\n                    window.location.reload();\r\n                });\r\n    }\r\n}\r\n\r\n\r\nexport const GetProfileData = (userId) => {\r\n    return (dispatch) => {\r\n        UsersAPI.GetProfileData(userId).then(response => {\r\n                // console.log(response, 'api here');\r\n                dispatch(setUserProfile(response));\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profileData) => {\r\n    return (dispatch, getState) => {\r\n        ProfileApi.SaveProfile(profileData).\r\n            then(res => {\r\n            // console.log(res);\r\n                if (res.resultCode === 0) {\r\n                    // setIsEditProfile(false);\r\n                    let userId = getState().auth.userId;\r\n                    dispatch(GetProfileData(userId));\r\n                    dispatch(setIsEditProfile(false));\r\n\r\n\r\n                } else {\r\n\r\n                    // parce an error msg from server to make error in right input\r\n                    // const parceFieldsFromError = []\r\n                    // for (let item in res.messages) {\r\n                    //     parceFieldsFromError.push(\r\n                    //         item.slice(\r\n                    //             item.lastIndexOf(\"Contacts->\")+\"Contacts->\".length,\r\n                    //             -1\r\n                    //         ).toLowerCase()\r\n                    //     );\r\n                    // }\r\n\r\n\r\n\r\n\r\n                    // parcing array of errors to indicate inputs with error\r\n                    // such way:\r\n                    // {website: Invalid url format (Contacts->Website), vk: Invalid url format (Contacts->Vk),...}\r\n\r\n                    const parceFieldsFromError = {};\r\n                    for (let item of res.messages) {\r\n                        parceFieldsFromError[\r\n                            item.slice(\r\n                                item.lastIndexOf(\"Contacts->\")+\"Contacts->\".length,\r\n                                -1\r\n                            ).toLowerCase()\r\n                        ] = item;\r\n                    }\r\n                    // console.log(parceFieldsFromError);\r\n\r\n                    dispatch(stopSubmit(\"editProfile\",\r\n                        // {_error: res.messages[0]}\r\n                        // {contacts: {vk: res.messages[0]}}\r\n                        {contacts: {...parceFieldsFromError}}\r\n\r\n                    ));\r\n                }\r\n        });\r\n    }\r\n};\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, post: 'Hi everyone!', likesCount: 1, isLiked: false},\r\n        {id: 2, post: 'Its my first p0$t!', likesCount: 21, isLiked: false},\r\n        {id: 3, post: 'check it out', likesCount: 3, isLiked: false},\r\n        {id: 4, post: 'I feel great!', likesCount: 15, isLiked: false},\r\n    ],\r\n\r\n    profile: null,\r\n    selectedUser: null,\r\n    status: '',\r\n    isFetching: false,\r\n    isStatusFetching: false,\r\n    uploadAvaMsg: {error: null, success: null},\r\n    isEditMode: false,\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n      switch (action.type) {\r\n        case (ADD_POST) : {\r\n            //{id: 1, post: 'Hi everyone!', likesCount: 1},\r\n            let prevId = state.posts.length;\r\n            let newPost = {\r\n                id: ++prevId, post: action.post, likesCount: 0, isLiked: false,\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        };\r\n\r\n          case(ADD_LIKE_TOGGLE): {\r\n              return {\r\n                  ...state,\r\n                      posts: state.posts.map(post => {\r\n                            if(post.id === action.postId) {\r\n                                return {...post,\r\n                                    likesCount: (post.isLiked) ? --post.likesCount : ++post.likesCount,\r\n                                    isLiked: !post.isLiked\r\n                                }\r\n                            }\r\n                            return post;\r\n                      }\r\n                  ) }\r\n          }\r\n\r\n          case (SET_USER_PROFILE) :\r\n              return {...state, profile: action.profile};\r\n\r\n          case (SELECT_USER) :\r\n              return {...state, selectedUser: action.userId};\r\n\r\n          case (SET_STATUS) :\r\n              return {...state, status: action.status};\r\n\r\n          case (IS_FETCHING) :\r\n              return {\r\n                  ...state, isFetching: action.isFetching\r\n              };\r\n\r\n          case (IS_STATUS_FETCHING) :\r\n              return {\r\n                  ...state, isStatusFetching: action.isStatusFetching\r\n              };\r\n\r\n          case (DELETE_POST):\r\n              return {\r\n                  ...state,\r\n                  posts: state.posts.filter(post => post.id !== action.postId)};\r\n          case (UPLOAD_AVA_SUCCESS):\r\n              return {\r\n                  ...state,\r\n                  profile: {...state.profile, photos: action.file} ,\r\n              };\r\n          case (UPLOAD_AVA_MSG):\r\n              return {\r\n                  ...state,\r\n                  uploadAvaMsg: {...state.uploadAvaMsg, error: action.msg.errorMsg, success: action.msg.successMsg},\r\n              };\r\n          case (SET_IS_EDIT_PROFILE) :\r\n              return { ...state, isEditMode: action.isEditMode};\r\n\r\n        default:\r\n            return (state);\r\n    }\r\n}\r\n\r\nexport default profileReducer;\r\n","import React from 'react';\r\nimport p from './Post.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Post = (props) => {\r\n    const imgSrc = (props.profileSmallImg);\r\n    return (\r\n        <div className={p.item}>\r\n            <div className={p.logodiv}>\r\n                <img className={p.logo}\r\n                     src={imgSrc}\r\n                     alt=\"\"/>\r\n            </div>\r\n\r\n            <div className={p.textCont}>\r\n                <div className={p.txt}>\r\n                    {props.msg}\r\n                </div>\r\n\r\n                <div>\r\n                    <span>\r\n                        <img className={p.likeImg} onClick={props.addLike} src=\"https://pngimg.com/uploads/like/like_PNG64.png\" alt=\"small_user_img\"/>\r\n                        {(props.likeCount > 0) ? props.likeCount : null}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport p from './Post/Post.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../common/FormControls/FormControls\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/FormValidator\";\r\n// import Preloader from \"../../common/Preloader/Preloader\";\r\n\r\nimport noUserImage from \"../../../assets/images/smallNoImages.jpg\"\r\nimport post from \"./Post/Post.module.css\";\r\n\r\nconst MyPosts = React.memo(\r\n    (props) => {\r\n        const profileSmallImg = (props.profile && props.profile.photos['small']) ?  props.profile.photos['small'] : noUserImage;\r\n        let posts = props.posts;\r\n        let postElements = posts.sort((a,b)=>b.id-a.id);\r\n        postElements = posts.map((post, key) =>\r\n            <Post key={key} msg={post.post}\r\n                  addLike={()=> {props.addLike(post.id)}}\r\n                  likeCount={post.likesCount} profileSmallImg={profileSmallImg}\r\n            />\r\n        );\r\n\r\n        let onAddPost = props.addPost;\r\n\r\n        const maxLength350 = maxLengthCreator(250);\r\n\r\n        const PostForm = (props) => {\r\n\r\n            // add post by Enter\r\n            const handleKeyPress = e => {\r\n                if (e.keyCode == 13 && e.shiftKey == false) {\r\n                    props.handleSubmit()\r\n                }\r\n            };\r\n\r\n\r\n            return (\r\n\r\n                <div className={p.item}>\r\n                    <div className={post.logodiv}>\r\n                        <img className={post.logo}\r\n                             src={profileSmallImg}\r\n                             alt=\"userLogoImg\"/>\r\n                    </div>\r\n\r\n                    <div >\r\n                        <form className={p.formCont} action=\"\" onSubmit={props.handleSubmit}>\r\n                            <div className={p.textarea}>\r\n                                {/*<Field component='textarea' placeholder='type something' name='post'/>*/}\r\n                                <Field component={Textarea} placeholder='type something' name='post'\r\n                                       validate={[maxLength350]}\r\n                                       onKeyDown={handleKeyPress}\r\n                                />\r\n                            </div>\r\n                            <div className={p.addPostButtonCont}>\r\n                                <button className={p.addPostButton}>Add Post</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )\r\n        };\r\n\r\n        const AddPostForm = reduxForm({\r\n            // a unique name for the form\r\n            form: 'postForm'\r\n        })(PostForm);\r\n\r\n        const onSubmit = (textData) => {\r\n            // console.log(textData);\r\n            onAddPost(textData.post)\r\n        }\r\n\r\n        // console.log('render');\r\n        return (\r\n            <div className={s.container}>\r\n                <div className={s.postsCont}>\r\n                    <div>\r\n                        <AddPostForm onSubmit={onSubmit}/>\r\n                    </div>\r\n\r\n                    <div className={s.posts}>\r\n                        {postElements}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n)\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addLike, addPost} from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\r\n    return(\r\n        {\r\n            posts: state.profilePage.posts,\r\n            profile: state.profilePage.profile,\r\n        }\r\n    )\r\n};\r\n\r\n/*let mapDispatchToProps = (dispatch) => {\r\n    return (\r\n        {\r\n            addPost: (post) => {dispatch(addPostActionCreator())},\r\n        }\r\n    )\r\n};*/\r\n\r\nconst  MyPostsContainer = connect (mapStateToProps, {addPost, addLike}) (MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport profile from './Profile.module.css';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {setIsEditProfile} from \"../../redux/profileReducer\";\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n       <div className={profile.content}>\r\n            <ProfileInfo profile={props.profile} userId={props.userId} status={props.status}\r\n                         updateStatus={props.updateStatus} isFetching={props.isFetching}\r\n                         isStatusFetching={props.isStatusFetching}\r\n                         isOwner={props.isOwner} uploadAvatar={props.uploadAvatar}\r\n                         uploadAvaMsg={props.uploadAvaMsg} saveProfile={props.saveProfile}\r\n                         isEditMode={props.isEditMode} setIsEditProfile={props.setIsEditProfile}\r\n            />\r\n           {!props.isEditMode &&\r\n               <MyPostsContainer/>\r\n           }\r\n       </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Profile from \"./Profile\";\r\nimport {\r\n    uploadAvatar,\r\n    GetProfileData,\r\n    getStatus,\r\n    setUserProfile,\r\n    updateStatus,\r\n    saveProfile, setIsEditProfile\r\n} from '../../redux/profileReducer';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    RefreshProfile () {\r\n        let userId = this.props.match.params.userId;\r\n        // let id = (!userId) ? (this.props.authId) : this.props.history.push(\"/login\");\r\n        if (!userId) {\r\n            userId = this.props.authId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        this.props.GetProfileData(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.RefreshProfile();\r\n    }\r\n\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n            this.RefreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Profile {...this.props}\r\n                     isOwner={!this.props.match.params.userId}\r\n                     profile={this.props.profile}\r\n                     updateStatus={this.props.updateStatus}\r\n                     uploadAvatar={this.props.uploadAvatar}\r\n                     isFetching={this.props.isFetching}\r\n                     isStatusFetching={this.props.isStatusFetching}\r\n                     isEditMode={this.props.isEditMode}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nlet MapStateToProps = (state) => {\r\n    return (\r\n        {\r\n            profile: state.profilePage.profile,\r\n            authId: state.auth.userId,\r\n            status: state.profilePage.status,\r\n            isStatusFetching: state.profilePage.isStatusFetching,\r\n            isFetching: state.profilePage.isFetching,\r\n            uploadAvaMsg: state.profilePage.uploadAvaMsg,\r\n            isEditMode: state.profilePage.isEditMode,\r\n        }\r\n    )\r\n}\r\n/*\r\nlet ProfileWithAuthRedirect = withAuthRedirect(ProfileContainer)\r\n\r\nlet WithRouterProfileContainer = withRouter(ProfileWithAuthRedirect);\r\n\r\nexport default connect(MapStateToProps, {setUserProfile, GetProfileData})(WithRouterProfileContainer);*/\r\n\r\nexport default  compose(connect(MapStateToProps,\r\n    {setUserProfile, GetProfileData, updateStatus, getStatus, uploadAvatar, saveProfile, setIsEditProfile}),\r\n    withRouter, withAuthRedirect)(ProfileContainer);","import React from 'react';\r\nimport h from './Header.module.css' ;\r\nimport {NavLink} from \"react-router-dom\";\r\nimport logo from \"../assets/images/it_logo.jpg\";\r\nimport nav from \"./Navbar.module.css\";\r\nimport letter from \"../assets/images/letter2.png\"\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={h.header}>\r\n            <div className={h.logoContainer}>\r\n                <NavLink to=\"/profile\">\r\n\r\n                <img className={h.logo}\r\n                     // src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Radio.svg/1200px-Radio.svg.png\"\r\n                     src={logo}\r\n                     alt=\"logo\"/>\r\n                </NavLink>\r\n\r\n            </div>\r\n\r\n\r\n            <div className={h.menu}>\r\n                <div className={h.linkContainer}>\r\n                    <NavLink activeClassName={h.activeLink} to=\"/profile\">\r\n                        Profile\r\n                        </NavLink>\r\n                </div>\r\n\r\n                <div className={h.linkContainer}>\r\n\r\n                    <div style={{display: 'flex'}}>\r\n                        <NavLink activeClassName={h.activeLink} to=\"/dialogs\">\r\n                            <div style={{display: 'flex', alignItems: 'center'}}>\r\n                                <div>Messages</div>\r\n                                {/* new messages*/}\r\n                                {props.newMessageCount ?\r\n                                    <>\r\n                                        <img className={h.msgImg} src={letter} alt=\"letter\"/>\r\n                                        <div className={h.msgCounter}>{props.newMessageCount}</div>\r\n                                    </>\r\n                                    : null\r\n                                }\r\n\r\n                            </div>\r\n                        </NavLink>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={h.linkContainer}>\r\n                    <NavLink activeClassName={h.activeLink} to=\"/news\">News</NavLink>\r\n                </div>\r\n               {/* <div className={h.linkContainer}>\r\n                    <NavLink activeClassName={h.activeLink} to=\"/music\">Music</NavLink>\r\n                </div>*/}\r\n                <div className={h.linkContainer}>\r\n                    <NavLink activeClassName={h.activeLink} to=\"/settings\">Settings</NavLink>\r\n                </div>\r\n                <div className={h.linkContainer}>\r\n                    <NavLink activeClassName={h.activeLink} to=\"/friends\">Friends</NavLink>\r\n                </div>\r\n                <div className={h.linkContainer}>\r\n                    <NavLink activeClassName={h.activeLink} to=\"/users\">Users</NavLink>\r\n                </div>\r\n\r\n\r\n                {/*<a href='#s'>News </a>*/}\r\n                {/*<a href='#s'>Feed</a>*/}\r\n                {/*<a href='#s'>Messages</a>*/}\r\n            </div>\r\n            <div className={h.login}>\r\n                {(props.isAuth)\r\n                    ? (<><div className={h.button} onClick={props.LogoutThunk}>Logout</div></>)\r\n                    :  <NavLink className={h.button} to={'login'}>Login</NavLink>}\r\n            </div>\r\n\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import {AuthAPI, SecurityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst IS_FETCHING = 'IS_FETCHING';\r\nconst GET_CAPTCHA_SUCCESS = 'GET_CAPTCHA_SUCCESS';\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth= false) => ({type: SET_USER_DATA, payload:{userId, email, login, isAuth}});\r\nexport const setIsFetching = (isFetching) =>  ({type: IS_FETCHING, isFetching});\r\nexport const getCaptchaSuccess = (captchaUrl) => ({type: GET_CAPTCHA_SUCCESS, captchaUrl});\r\n\r\n// get id, email, login if user is auth\r\nexport const AuthMeThunk = () =>\r\n     (dispatch) => {\r\n        // dispatch(setIsFetching(true));\r\n        //  try {\r\n             return AuthAPI.AuthMe().then(response => {\r\n                     // dispatch(setIsFetching(false));\r\n                     if(response.data.resultCode === 0) {\r\n                         let {id, email, login} = response.data.data;\r\n                         dispatch(setAuthUserData(id, email, login, true));\r\n                     }\r\n                 }\r\n             );\r\n         // } catch (e) {\r\n         //     console.log(e);\r\n         // }\r\n    };\r\n\r\n\r\n// log in\r\nexport const LoginThunk = (email, password, rememberMe, captcha= null) => {\r\n    return (dispatch) => {\r\n        dispatch(setIsFetching(true));\r\n        AuthAPI.Login(email, password, rememberMe, captcha).then(response => {\r\n            // console.log(response);\r\n            //succes\r\n            if(response.data.resultCode === 0) {\r\n                // console.log(response.data)\r\n\r\n                //обнуляем картинку капчи\r\n                dispatch(getCaptchaSuccess(''));\r\n                let {userId} = response.data.data;\r\n\r\n                //need login\r\n                dispatch(AuthMeThunk());\r\n            }\r\n            // error email or password or captcha (code=10)\r\n            else {\r\n                //need captcha\r\n                if(response.data.resultCode === 10) {\r\n                    dispatch(GetCaptcha());\r\n                }\r\n                let message = (response.data.messages && response.data.messages.length > 0)\r\n                    ? response.data.messages[0]\r\n                    : \"Common error of authorization\";\r\n                dispatch(stopSubmit(\"loginForm\", {_error: message }));\r\n            }\r\n        });\r\n        dispatch(setIsFetching(false));\r\n    }\r\n}\r\n\r\nexport const LogoutThunk = () => {\r\n    return (dispatch) => {\r\n        AuthAPI.Logout().then(res => {\r\n            console.log(res);\r\n            if (res.data.resultCode === 0) {\r\n                let options = {userId: null, email: null, login: null, isAuth: false};\r\n                dispatch(setAuthUserData(options));\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n// get capture\r\nexport const GetCaptcha = () => {\r\n    return dispatch => {\r\n        SecurityAPI.getCaptcha().then(res => {\r\n            console.log(res.data.url);\r\n            dispatch(getCaptchaSuccess(res.data.url));\r\n            // console.log(res.data.url);\r\n        });\r\n    }\r\n}\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case (SET_USER_DATA) :\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                // isAuth: true,\r\n            };\r\n        case (IS_FETCHING) :\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching,\r\n            };\r\n\r\n        case (GET_CAPTCHA_SUCCESS): {\r\n            return {...state, captchaUrl: action.captchaUrl};\r\n        }\r\n\r\n        default:\r\n            return (state);\r\n    }\r\n\r\n}\r\n\r\nexport default authReducer;","import {DialogsApi} from \"../api/api\";\r\n\r\nconst ADD_MSG = 'ADD_MSG';\r\nconst SET_DIALOGS = 'SET_DIALOGS';\r\nconst SET_MESSAGES = 'SET_MESSAGES';\r\nconst SET_NEW_MESSAGES_COUNT = 'SET_NEW_MESSAGES_COUNT';\r\nconst SET_IS_ADDING_MSG = 'SET_IS_ADDING_MSG';\r\n\r\nexport const addMsgActionCreator = (message) => ({type: ADD_MSG, message});\r\nexport const setDialogs = (dialogs) => ({type: SET_DIALOGS, dialogs});\r\nexport const setMessages = (messages) => ({type: SET_MESSAGES, messages});\r\nexport const setNewMessagesCount = (count) => ({type: SET_NEW_MESSAGES_COUNT, count});\r\nexport const setIsAddingMsg = (is) => ({type: SET_IS_ADDING_MSG, is});\r\n// thunk\r\n\r\nexport const getAllDialogs = () => {\r\n    /*[{\r\n        hasNewMessages: false\r\n        id: 25643\r\n        lastDialogActivityDate: \"2022-10-19T17:28:12.537\"\r\n        lastUserActivityDate: \"2022-10-19T06:55:25.787\"\r\n        newMessagesCount: 0\r\n        photos: Object { small: \"https://social-network.samuraijs.com/activecontent/images/users/25643/user-small.jpg?v=1\",\r\n         large: \"https://social-network.samuraijs.com/activecontent/images/users/25643/user.jpg?v=1\" }\r\n        userName: \"MashaKustova\"}, ......]\r\n    * */\r\n    return dispatch => {\r\n        DialogsApi.GetAllDialogs().then(res => {\r\n            if (res.data && res.data.length > 0) {\r\n                dispatch(setDialogs(res.data));\r\n\r\n                res.data.map(dialog=>{\r\n                 dispatch(getMessagesList(dialog.id));\r\n                })\r\n            }\r\n        });\r\n    }\r\n}\r\n// just to top in all dialogs or what? idk\r\nexport const getDialogWithFriend = (friendId) => {\r\n    return (dispatch) => {\r\n        DialogsApi.GetDialogWithFriend(friendId).then(res => console.log(res, 'dialogs'));\r\n    }\r\n};\r\n\r\nexport const getMessagesList = (friendId) => {\r\n    /*\r\n        addedAt: \"2022-10-19T17:13:12.883\"\r\n        body: \"Привет, самурай!\"\r\n        id: \"fce61907-d97e-4e58-b552-119576e2e4c1\"\r\n        recipientId: 25643\r\n        senderId: 18684\r\n        senderName: \"JollyRoger\"\r\n        translatedBody: null\r\n        viewed: false\r\n    * */\r\n    return (dispatch, getState) => {\r\n        return DialogsApi.getMessagesList(friendId)\r\n            .then(res => {\r\n                console.log(res.items, 'dialogs messsages list');\r\n                console.log(getState().dialogsPage.messages.find(message => message.id != res.items.id))\r\n                console.log(res.items)\r\n                if (res.items && res.items.length>0 && getState().dialogsPage.messages.find(message => message.id != res.items.id)) {\r\n                    dispatch(setMessages(res.items));\r\n                }\r\n\r\n            });\r\n    }\r\n};\r\n\r\nexport const sendMessage = (friendId, message) => {\r\n    return (dispatch) => {\r\n        dispatch(setIsAddingMsg(true));\r\n        DialogsApi.sendMessage(friendId, message)\r\n            .then(res => {\r\n                console.log(res, 'send message')\r\n                dispatch(getMessagesList(friendId));\r\n                dispatch(setIsAddingMsg(false));\r\n            });\r\n\r\n    }\r\n};\r\n\r\nexport const countNewMessages = () => {\r\n    return (dispatch) => {\r\n        DialogsApi.getCountOfNewMessages().then(res => {\r\n            console.log(res, 'count new msg')\r\n            if(res.data || true) {\r\n              dispatch(setNewMessagesCount(+res.data));\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {\r\n            id: 1, hasNewMessages: false, userName: 'John', lastDialogActivityDate: \"2022-10-19T17:28:12.537\",\r\n            lastUserActivityDate: \"2022-10-19T06:55:25.787\", newMessagesCount: 0, photos: {small: null, large: null}\r\n        },\r\n        {\r\n            id: 2, hasNewMessages: false, userName: 'Bob', lastDialogActivityDate: \"2022-10-19T17:28:12.537\",\r\n            lastUserActivityDate: \"2022-10-19T06:55:25.787\", newMessagesCount: 0, photos: {small: null, large: null}\r\n        },\r\n        {\r\n            id: 3, hasNewMessages: false, userName: 'Karrie', lastDialogActivityDate: \"2022-10-19T17:28:12.537\",\r\n            lastUserActivityDate: \"2022-10-19T06:55:25.787\", newMessagesCount: 0, photos: {small: null, large: null}\r\n        },\r\n\r\n    ],\r\n\r\n    messages: [\r\n        {   body: 'test hi',addedAt: \"2022-10-19T17:13:12.883\",\r\n            id: \"fce61907-d97e-4e58-b552-119576e2e4c1\",\r\n            recipientId: 186840,\r\n            senderId: 25643,\r\n            senderName: \"JollyRoger\",\r\n            translatedBody: null,\r\n            viewed: false},\r\n    ],\r\n    newMessageCount: null,\r\n    isAddingMsg: false,\r\n\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case (ADD_MSG) :\r\n            let newMsg = {id: 15, message: action.message}\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMsg],\r\n            };\r\n        case (SET_DIALOGS): {\r\n            return {...state, dialogs: [...action.dialogs]}\r\n        };\r\n        case (SET_MESSAGES): {\r\n\r\n\r\n            let addMsg = [];\r\n            for (let i of action.messages) {\r\n              if (!state.messages.find(el => el.id === i.id)) {\r\n                      addMsg.push(i);\r\n              }\r\n            };\r\n\r\n            if (!state.messages.length) {\r\n                return {...state, messages: [...state.messages, ...action.messages],}\r\n            } else {\r\n                return {...state, messages: [...state.messages, ...addMsg], }\r\n\r\n            }\r\n\r\n\r\n            // return {...state, messages: [...action.messages]}\r\n        };\r\n\r\n        case (SET_NEW_MESSAGES_COUNT): {\r\n            return {...state, newMessageCount: action.count}\r\n        };\r\n        case (SET_IS_ADDING_MSG): {\r\n            return {...state, isAddingMsg: action.is}\r\n        }\r\n\r\n        default:\r\n            return (state);\r\n    }\r\n\r\n}\r\n\r\nexport default dialogsReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {AuthMeThunk, LogoutThunk} from \"../redux/authReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {countNewMessages} from \"../redux/dialogsReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        // in App now\r\n        // this.props.AuthMeThunk();\r\n        this.props.countNewMessages();\r\n    }\r\n    render() {\r\n        return(\r\n            <>\r\n                    <Header {...this.props}></Header>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n    newMessageCount: state.dialogsPage.newMessageCount,\r\n})\r\n\r\nexport default connect(mapStateToProps,{AuthMeThunk, LogoutThunk, countNewMessages}) (HeaderContainer);","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/FormValidator\";\r\nimport {Input} from \"../common/FormControls/FormControls\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from \"../common/FormControls/FormControls.module.css\";\r\nimport s from \"./Login.module.css\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (data) => {\r\n        // console.log(data);\r\n        let iCaptcha = data.captcha;\r\n        props.LoginThunk(data.email, data.password, data.rememberMe, iCaptcha);\r\n    }\r\n\r\n    if (props.isAuth) return <Redirect to={'/profile'} />\r\n    if (props.isFetching) return <Preloader/>\r\n    return(\r\n        <div className={s.container}>\r\n            <div className={s.card}>\r\n                <h3 className={s.cardTitle}>Login please</h3>\r\n                <ReduxLoginForm captchaUrl={props.captchaUrl} onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n//redux form\r\n\r\nconst maxLengthValidate30 = maxLengthCreator(30);\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    const handleKeyPress = e => {\r\n        if (e.keyCode == 13 && e.shiftKey == false) {\r\n            props.handleSubmit()\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form action=\"\" onSubmit={props.handleSubmit} className={props.error ? style.formCommonError : ''}>\r\n            {props.error && <div className={style.errorText}>{props.error}</div>}\r\n            <div className={s.inputs}>\r\n                <Field validate={[required, maxLengthValidate30]} component={Input}\r\n                       type='text' placeholder='login' name='email'/>\r\n            </div>\r\n            <div className={s.inputs}>\r\n                <Field validate={[required, maxLengthValidate30]} component={Input}\r\n                       type='password' placeholder='password' name='password'/>\r\n            </div>\r\n            <div className={s.rememberMe}>\r\n                <label htmlFor=\"rememberMe\">Remember me</label>\r\n                <Field component={Input} id=\"rememberMe\" type='checkbox' name='remember'/>\r\n\r\n            </div>\r\n\r\n            {/*captcha block*/}\r\n            {props.captchaUrl &&\r\n                <>\r\n                    <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n                        <div className={s.captchaImg}><img src={props.captchaUrl} alt=\"captcha\" height=\"50\" /></div>\r\n                    </div>\r\n\r\n                    <div className={s.inputs}>\r\n                        <Field validate={[required]} component={Input}\r\n                               type='text' placeholder='captcha' name='captcha'\r\n                               onKeyDown={handleKeyPress}/>\r\n                    </div>\r\n                </>\r\n            }\r\n            <div className={s.buttonContainer}>\r\n                <button className={s.button} >Sign in</button>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ReduxLoginForm = reduxForm({form: 'loginForm'})(LoginForm);\r\n\r\nexport default Login;\r\n/*\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport {LoginThunk} from \"../../redux/authReducer\";\r\n\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n\r\n    const LoginForm = (props) => {\r\n        return(\r\n            <form action=\"\" onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field placeholder='login' name=\"login\" type=\"text\" component=\"input\"/>\r\n                </div>\r\n                <div>\r\n                    <Field placeholder='pass' name=\"password\" type=\"password\" component=\"input\"/>\r\n                </div>\r\n                <div>\r\n                    <Field id='remember' name=\"remember\" type=\"checkbox\" component=\"input\"/>Remember me\r\n                </div>\r\n                <button type=\"submit\" >Login</button>\r\n            </form>\r\n        )\r\n    };\r\n\r\n    const ReduxLoginForm = reduxForm({\r\n        // a unique name for the form\r\n        form: 'loginForm'\r\n    })(LoginForm);\r\n\r\n    const onSubmit = (data) => {\r\n        LoginThunk(data.login, data.password);\r\n        console.log(data.login, data.password, 'data');\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h1>Login Page</h1>\r\n            <ReduxLoginForm onSubmit={onSubmit} />\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\n\r\nexport default Login;\r\n*/","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {LoginThunk} from \"../../redux/authReducer\";\r\nimport Login from \"./Login\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return(\r\n        {\r\n            isAuth: state.auth.isAuth,\r\n            captchaUrl: state.auth.captchaUrl,\r\n            isFetching: state.auth.isFetching,\r\n            // email: state.form.loginForm.login,\r\n            // password: state.form.loginForm.password,\r\n        }\r\n    )\r\n};\r\n\r\nconst LoginContainer = connect(mapStateToProps, {LoginThunk})(Login);\r\n\r\nexport default LoginContainer;","import {AuthMeThunk} from \"./authReducer\";\r\n\r\nconst INIT_APP = 'INIT_APP';\r\n\r\nconst initialState = {\r\n    initSuccess: false,\r\n}\r\n\r\nconst appReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n        case INIT_APP :\r\n            return {\r\n                ...state,\r\n                initSuccess: true,\r\n            };\r\n        default:\r\n            return (state);\r\n    }\r\n}\r\n\r\nexport const initApp = () => ({type: INIT_APP});\r\n\r\nexport const InitializeAppThunk = () => {\r\n    return (dispatch) => {\r\n        let promise = dispatch(AuthMeThunk());\r\n        promise.then(() => {\r\n            dispatch(initApp());\r\n        });\r\n        /*\r\n     Promise.all([promise1,promise2]).then(()=>{\r\n         dispatch(initApp());\r\n     })*/\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default appReducer;","import React from 'react';\r\nimport f from \"./Footer.module.css\";\r\n\r\nconst Footer = () => {\r\n\r\n    return(\r\n\r\n        <div className={f.container}>\r\n            <div>{new Date().getFullYear()} г.</div>\r\n            <div>zjohnnyjollyroger@Я.ru</div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport f from \"./Footer.module.css\";\r\n\r\nconst NotFound = () => {\r\n\r\n    return(\r\n\r\n        <div className={f.container}>\r\n            <div>404 Not Found</div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default NotFound;","import React from 'react';\r\nimport d from './../Dialogs.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport noLogo from \"../../../assets/images/smallNoImages.jpg\"\r\nimport {parseServerDate} from \"../Dialogs\";\r\n\r\nconst Dialog = (props) => {\r\n    /*lastDialogActivityDate(pin): \"2022-10-20T14:41:48.703\"\r\n    lastUserActivityDate(pin): \"2022-10-20T17:43:19.193\"*/\r\n    const logoSmall = (props.photos.small) ? props.photos.small : noLogo;\r\n\r\n\r\n    const lastDialogActivity = parseServerDate(props.lastDialogActivityDate);\r\n    const lastUserActivity = parseServerDate(props.lastUserActivityDate);\r\n\r\n\r\n    return (\r\n        <div className={(props.active === 'true') ? d.item + ' ' + d.active : d.item}>\r\n            <NavLink style={{textDecoration: 'none'}} to={'/dialogs/' + props.id}>\r\n                <div className={d.title}>{props.name}</div>\r\n                <div>\r\n                    <img className={d.imgLogo} src={logoSmall} alt=\"avatar\"/>\r\n                </div>\r\n                <div className={d.date}>\r\n                    {lastDialogActivity.date} {lastDialogActivity.time}\r\n                </div>\r\n\r\n            </NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dialog;","import React from 'react';\r\nimport d from './../Dialogs.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {parseServerDate} from \"../Dialogs\";\r\n\r\nconst Message = (props) => {\r\n\r\n    const added = parseServerDate(props.addedAt);\r\n    const shortMsg = (props.message.length > 70) ? props.message.slice(0, 70) + '...' : props.message;\r\n    return (\r\n        <div className={d.msgCont}>\r\n            <div className={(props.lastMessageIsMine) ? d.meSenderTitle : d.senderTitle}>\r\n                <div>{props.senderName}:</div>\r\n                <div className={d.msgTime}>{added.date} {added.time}</div>\r\n                <div className={(props.lastMessageIsMine) ? d.msgText +' '+ d.myMsgText : d.msgText}>- {shortMsg}</div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Message;","import React from \"react\";\r\nimport d from \"./Dialogs.module.css\";\r\nimport {parseServerDate} from \"./Dialogs\";\r\nimport {NavLink, useHistory} from \"react-router-dom\";\r\nimport backImg from \"../../assets/images/back.png\";\r\nimport noLogo from \"../../assets/images/smallNoImages.jpg\"\r\nimport {maxLengthCreator, required} from \"../../utils/validators/FormValidator\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormControls/FormControls\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\nconst ChatWithFriend = ({messages, dialogs, friendId, profile, ...props}) => {\r\n\r\n    const history = useHistory();\r\n    let chatMsg = messages.filter(message => (message.recipientId == friendId || message.senderId == friendId));\r\n    // console.log(chatMsg, 'chat msg');\r\n\r\n    let chatDialog = dialogs.find(dialog => dialog.id == friendId);\r\n\r\n    const myAva = (profile && profile.photos.small) ? profile.photos.small : noLogo;\r\n    const friendAva = (chatDialog && chatDialog.photos.small) ? chatDialog.photos.small : noLogo;\r\n\r\n    let maxLength150 = maxLengthCreator(150);\r\n\r\n    const AddMessageForm = (props) => {\r\n\r\n        const handleKeyPress = e => {\r\n            if (e.keyCode == 13 && e.shiftKey == false) {\r\n                props.handleSubmit()\r\n            }\r\n        };\r\n\r\n        return (\r\n            <form action=\"\" onSubmit={props.handleSubmit}>\r\n                <div className={d.textarea}>\r\n                    <Field component={Textarea} onKeyDown={handleKeyPress}\r\n                           validate={[required, maxLength150]}\r\n                           name='message'\r\n                           placeholder={'type your message here'}/>\r\n                </div>\r\n                <div className={d.addPostButtonCont}>\r\n                    <button className={d.addPostButton}>Отправить</button>\r\n                </div>\r\n            </form>\r\n        )\r\n    };\r\n\r\n\r\n    const AddMessageFormRedux = reduxForm({\r\n        form: 'AddMessageForm',\r\n    })(AddMessageForm);\r\n\r\n    const onSubmit = (messages) => {\r\n        console.log(messages);\r\n        props.sendMessage(friendId, messages.message);\r\n        //26376\r\n    };\r\n\r\n    if (props.isAddingMsg) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div className={d.chatCommon}>\r\n            <div onClick={() => history.push('/dialogs')} title={'return to all dialogs'}>\r\n                <img className={d.backImg} src={backImg} alt=\"Return to all dialogs\"/>\r\n            </div>\r\n\r\n            {chatMsg.map(item => {\r\n                return (\r\n                    <div className={d.chatCont} key={item.id}>\r\n                        {/*lastMessageIsMine={(messages.recipientId == dialogs.id) ? true : false}*/}\r\n\r\n                        {/*my message*/}\r\n                        {(friendId == item.recipientId) ?\r\n                            <div className={d.myChatItem}>\r\n                                <div className={d.frChatHeader}>\r\n                                    <div className={d.frAva}>\r\n                                        <img src={myAva} className={d.imgLogo} alt=\"my img\"/>\r\n                                    </div>\r\n                                    <div className={d.titleData}>\r\n                                        <div className={d.meSenderTitle}>{item.senderName}:</div>\r\n                                        <div className={d.msgTime}>\r\n                                            {parseServerDate(item.addedAt).date + ' ' +\r\n                                          parseServerDate(item.addedAt).time}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div style={{alignSelf: 'flex-end'}}\r\n                                     className={(item.viewed) ? d.msgText + ' ' + d.myMsgText : d.msgText}>- {item.body}</div>\r\n                            </div>\r\n                            :\r\n                            // friend's message\r\n                            <div className={d.frChatItem}>\r\n                                <div className={d.frChatHeader}>\r\n                                    <div className={d.frAva}>\r\n                                        <NavLink to={`/profile/${friendId}`}>\r\n                                            <img src={friendAva} className={d.imgLogo} alt=\"friend img\"/>\r\n                                        </NavLink>\r\n                                    </div>\r\n                                    <div className={d.titleData}>\r\n                                        <div className={d.senderTitle}>{item.senderName}:</div>\r\n                                        <div className={d.msgTime}>{parseServerDate(item.addedAt).date + ' ' + parseServerDate(item.addedAt).time}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div style={{alignSelf: 'flex-start'}} className={d.msgText}>- {item.body}</div>\r\n                            </div>\r\n                        }\r\n\r\n                    </div>\r\n                )\r\n            })\r\n            }\r\n\r\n            <div className={d.addDialogDiv}>\r\n                <AddMessageFormRedux onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatWithFriend;","import React, {useEffect} from 'react';\r\nimport d from './Dialogs.module.css';\r\nimport Dialog from \"./Dialog/Dialog\";\r\nimport Message from \"./Message/Message\";\r\nimport ChatWithFriend from \"./ChatWithFriend\";\r\n\r\nexport const parseServerDate = (date) => {\r\n    let yymmdd = date.slice(0, date.indexOf(\"T\")); //2022-10-20\r\n    let [yy, dd, mm] = yymmdd.split('-');\r\n    let usefulldate = [dd, mm, yy].join('-')\r\n    let time = date.slice(date.indexOf(\"T\") + 1, -4); //17:43:19\r\n    return {date: usefulldate, time}\r\n}\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let {dialogs, messages, urlFriendId: friendId, profile} = props;\r\n    /*[{\r\n       hasNewMessages: false\r\n       id: 25643\r\n       lastDialogActivityDate: \"2022-10-19T17:28:12.537\"\r\n       lastUserActivityDate: \"2022-10-19T06:55:25.787\"\r\n       newMessagesCount: 0\r\n       photos: Object { small: \"https://social-network.samuraijs.com/activecontent/images/users/25643/user-small.jpg?v=1\",\r\n        large: \"https://social-network.samuraijs.com/activecontent/images/users/25643/user.jpg?v=1\" }\r\n       userName: \"MashaKustova\"}, ......]\r\n   * */\r\n\r\n\r\n    /* try to configure sweet from shit*/\r\n    let lastMsg = [];\r\n    for (let item of dialogs) {\r\n        let lastMsgFind = messages.filter(message => (message.senderId === item.id || message.recipientId === item.id));\r\n        if (lastMsgFind.length) {\r\n            lastMsg.push({messages: lastMsgFind.pop(), dialogs: item})\r\n        }\r\n    }\r\n    // console.log(lastMsg, 'lst msg');\r\n    const renderSweetFromShit = lastMsg.map(({messages, dialogs}) => {\r\n        return (\r\n            //senderName(pin): \"EscapeFromHell\"\r\n            // recipientId(pin): 18684\r\n            <div key={dialogs.id + messages.id} className={d.allChats}>\r\n                <Dialog key={dialogs.id} id={dialogs.id} name={dialogs.userName} {...dialogs}/>\r\n                <Message key={messages.id} message={messages.body}  senderName={messages.senderName}\r\n                         lastMessageIsMine={(messages.recipientId == dialogs.id) ? true : false}\r\n                         addedAt={messages.addedAt}/>\r\n            </div>\r\n        )\r\n    });\r\n\r\n    // рендерим страничку диалога с конкретным пользователем\r\n    // возможно стоит вынести в отд. компоненту, посмотрим как пойдет\r\n    if (friendId) {\r\n     return   <ChatWithFriend friendId={friendId} messages={messages} dialogs={dialogs} profile={profile}\r\n     sendMessage={props.sendMessage} isAddingMsg={props.isAddingMsg}/>\r\n    };\r\n\r\n\r\n\r\n    // а это отрисовка всех существующих диалогов\r\n    return (\r\n        <div>\r\n            <div className={d.dialogs}>\r\n                <div className={d.dialogsItems}>\r\n                    {renderSweetFromShit}\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dialogs;","import React, {useEffect} from 'react';\r\nimport {\r\n    addMsgActionCreator as addMsg, countNewMessages, getAllDialogs,\r\n    getDialogWithFriend,\r\n    getMessagesList,\r\n    sendMessage\r\n} from \"../../redux/dialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nconst DialogsContainer = (props) => {\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        props.getAllDialogs();\r\n        props.countNewMessages();\r\n        // props.getMessagesList(25643);\r\n        // console.log(props.match.params.friendId, 'params');\r\n    },[]);\r\n\r\n    const urlFriendId = props.match.params.friendId;\r\n    return (\r\n        <div>\r\n            <Dialogs urlFriendId={urlFriendId} { ...props}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return (\r\n        {\r\n            dialogs: state.dialogsPage.dialogs,\r\n            messages: state.dialogsPage.messages,\r\n            profile: state.profilePage.profile,\r\n            isAddingMsg: state.dialogsPage.isAddingMsg,\r\n        }\r\n    )\r\n};\r\n\r\n\r\n\r\nexport default compose(connect (mapStateToProps,\r\n    {addMsg, getAllDialogs, getDialogWithFriend, getMessagesList, sendMessage, countNewMessages}),\r\n    withRouter,\r\n    withAuthRedirect)(DialogsContainer)\r\n\r\n\r\n","import React from 'react';\r\nimport {BrowserRouter, Switch, Route, withRouter, HashRouter, Redirect} from \"react-router-dom\";\r\n\r\nimport './App.css';\r\n// import Navbar from \"./components/Navbar\";\r\nimport a from './App.module.css';\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Setting\";\r\nimport Friends from \"./components/Friends/Friends\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/HeaderContainer\";\r\nimport LoginContainer from \"./components/Login/LoginContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {InitializeAppThunk} from \"./redux/appReducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport Footer from \"./components/Footer\";\r\nimport NotFound from \"./components/NotFound\";\r\n\r\n// lazy loading\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"));\r\n// const DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\r\n// import UsersContainer from \"./components/Users/UsersContainer\";\r\n\r\n// No need in this HOC in new version of React,\r\n// we can wrap all Routers by <React.Suspense/>, so\r\n//import {WithSuspenseWrap} from \"./components/hoc/withSuspenseWrap\";\r\n\r\n\r\n/*\r\nconst App = (props) => {\r\n    return (\r\n        <Router>\r\n            <div>\r\n                <HeaderContainer/>\r\n                <div className={a.content}>\r\n                    <Navbar/>\r\n                    <Route path='/profile/:userId?' render={()=><ProfileContainer/> } />\r\n                    <Route exact path='/dialogs' render={()=><DialogsContainer/> } />\r\n                    <Route path='/news'><News/></Route>\r\n                    <Route path='/music'><Music/></Route>\r\n                    <Route path='/settings'><Settings/></Route>\r\n                    <Route path='/friends' render={()=><Friends/>}/>\r\n                    <Route path='/users' render={()=><UsersContainer/>}/>\r\n                    <Route path='/login' render={()=><LoginContainer/>}/>\r\n                </div>\r\n            </div>\r\n        </Router>\r\n    );\r\n}*/\r\n\r\nclass App extends React.Component {\r\n    // catch all errors\r\n    catchUnhandleedErrors = (reason, promise) => {\r\n        console.error(promise);\r\n        console.error(reason);\r\n        alert('some server error, try later (server is free, so..)');\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.InitializeAppThunk();\r\n        window.addEventListener('error', this.catchUnhandleedErrors);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", this.catchUnhandleedErrors);\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        if (!this.props.initSuccess) return <div style={{display: 'flex', justifyContent: 'center'}}><Preloader/></div>\r\n\r\n        return (\r\n            <HashRouter>\r\n            <React.Suspense fallback={Preloader}>\r\n                <BrowserRouter>\r\n                    {/*// basename={process.env.PUBLIC_URL}>*/}\r\n\r\n                    <div style={{display: 'flex', width: '100%', flexDirection: 'column', height: '100%'}}>\r\n                        <HeaderContainer/>\r\n                        <div className={a.content}>\r\n                            {/*<Navbar/>*/}\r\n                            <Switch>\r\n                                <Route exact path='/dialogs/:friendId?' render={() => <DialogsContainer/>}/>\r\n                                <Route path='/news'><News/></Route>\r\n                                <Route path='/music'><Music/></Route>\r\n                                <Route path='/settings'><Settings/></Route>\r\n                                <Route path='/friends' render={() => <Friends/>}/>\r\n                                <Route path='/users' render={() => <UsersContainer/>}/>\r\n                                <Route path='/login' render={() => <LoginContainer/>}/>\r\n                                <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                                <Route exact path='/' render={() => <Redirect to={'/profile'}/>}/>\r\n                                <Route path='*' render={() => <NotFound/>}/>\r\n                            </Switch>\r\n                        </div>\r\n                        <Footer/>\r\n                    </div>\r\n                </BrowserRouter>\r\n            </React.Suspense>\r\n            </HashRouter>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initSuccess: state.app.initSuccess,\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, {InitializeAppThunk})(App));","const initialState = {}\r\n\r\nconst friendsReducer = (state = initialState, action) => {\r\n    return (\r\n        state\r\n    )\r\n\r\n}\r\n\r\nexport default friendsReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport friendsReducer from \"./friendsReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\n\r\nimport thunkMiddleWare from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    friendsPage: friendsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer,\r\n})\r\n\r\nlet store = createStore(reducers, composeWithDevTools( applyMiddleware(thunkMiddleWare)));\r\n\r\nwindow.store = store;\r\n\r\n\r\nexport default store;","import React from 'react';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nimport store from \"./redux/reduxStore\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n// selectors test\r\n// setInterval(() => {\r\n//     store.dispatch({type: \"FAKE\"})\r\n// }, 1000);\r\n\r\n\r\n// let rerender = () => {\r\n    ReactDOM.render(\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </BrowserRouter>\r\n        , document.getElementById('root')\r\n    );\r\n// };\r\n\r\n// rerender();\r\n\r\n// store.subscribe(rerender);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = \"data:image/jpeg;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsCont\":\"Dialogs_dialogsCont__2IIM6\",\"dialogs\":\"Dialogs_dialogs__3Bm9B\",\"active\":\"Dialogs_active__2VT2A\",\"dialogsItems\":\"Dialogs_dialogsItems__3hiAE\",\"allChats\":\"Dialogs_allChats__2t3qK\",\"item\":\"Dialogs_item__jyCP5\",\"imgLogo\":\"Dialogs_imgLogo__1qcuB\",\"title\":\"Dialogs_title__1JgXs\",\"date\":\"Dialogs_date__Ihd8y\",\"dialogsItem\":\"Dialogs_dialogsItem__2i0jM\",\"msgCont\":\"Dialogs_msgCont__1bCbQ\",\"senderTitle\":\"Dialogs_senderTitle__3UPYt\",\"meSenderTitle\":\"Dialogs_meSenderTitle__2ChMM\",\"msgText\":\"Dialogs_msgText__1TSZm\",\"myMsgText\":\"Dialogs_myMsgText__84MTe\",\"msgTime\":\"Dialogs_msgTime__9EM4R\",\"backImg\":\"Dialogs_backImg__1hWJg\",\"msgs\":\"Dialogs_msgs__1-qcK\",\"msg\":\"Dialogs_msg__1CfjL\",\"addDialogDiv\":\"Dialogs_addDialogDiv__2PCNQ\",\"chatCont\":\"Dialogs_chatCont__3-59D\",\"frChatItem\":\"Dialogs_frChatItem__1mvXD\",\"myChatItem\":\"Dialogs_myChatItem__pHOFp\",\"frChatHeader\":\"Dialogs_frChatHeader__LwFj1\",\"titleData\":\"Dialogs_titleData__8Q7oq\",\"chatCommon\":\"Dialogs_chatCommon__7_b00\",\"textarea\":\"Dialogs_textarea__KBecq\",\"addPostButtonCont\":\"Dialogs_addPostButtonCont__1_f7l\",\"addPostButton\":\"Dialogs_addPostButton__34BDv\"};","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet MapStateToProps = (state) => {\r\n    return (\r\n        {\r\n            isAuth: state.auth.isAuth,\r\n        }\r\n    )\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    let withContainerRedirect = (props) => {\r\n        if (!props.isAuth)  return <Redirect to={'/login'}/>;\r\n        return <Component {...props}/>;\r\n    }\r\n\r\n    return connect(MapStateToProps)(withContainerRedirect);\r\n};\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/loader.502a11ad.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ava\":\"ProfileInfo_ava__2DMnG\",\"lookingForAJob\":\"ProfileInfo_lookingForAJob__12QH2\",\"notLookingForAJob\":\"ProfileInfo_notLookingForAJob__3zzp8\",\"userProfile\":\"ProfileInfo_userProfile__14plZ\",\"userProfileData\":\"ProfileInfo_userProfileData__3S69T\",\"userEditProfile\":\"ProfileInfo_userEditProfile__hHyPH\",\"editLFJ\":\"ProfileInfo_editLFJ__1c8Hp\",\"userImg\":\"ProfileInfo_userImg__3wDeV\",\"profileImgContainer\":\"ProfileInfo_profileImgContainer__3iplx\",\"profileImg\":\"ProfileInfo_profileImg__Ah7Vv\",\"letterImg\":\"ProfileInfo_letterImg__Ns99O\",\"inputButtonContainer\":\"ProfileInfo_inputButtonContainer__2uIMk\",\"inputButton\":\"ProfileInfo_inputButton__1kGZY\",\"editProfileButtonCont\":\"ProfileInfo_editProfileButtonCont__3zwym\",\"editProfileButton\":\"ProfileInfo_editProfileButton__YXTnv\",\"userNameCont\":\"ProfileInfo_userNameCont__31NTp\",\"userNameStatusCont\":\"ProfileInfo_userNameStatusCont__-oZji\",\"userName\":\"ProfileInfo_userName__1hOUH\",\"userEditSkill\":\"ProfileInfo_userEditSkill__2IVwh\",\"editContactItem\":\"ProfileInfo_editContactItem__2HMjN\",\"aboutMe\":\"ProfileInfo_aboutMe__bWxim\",\"buttonContainer\":\"ProfileInfo_buttonContainer__3pkUR\",\"button\":\"ProfileInfo_button__27eYv\",\"userContacts\":\"ProfileInfo_userContacts__3gXzA\",\"userContactsTitle\":\"ProfileInfo_userContactsTitle__2vbnv\",\"contactsItems\":\"ProfileInfo_contactsItems__3Nz9m\",\"uploadMsg\":\"ProfileInfo_uploadMsg__22wXw\",\"uploadError\":\"ProfileInfo_uploadError__2Pm2z\",\"uploadSuccess\":\"ProfileInfo_uploadSuccess__35vXS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Footer_container__3QY9r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MyPosts_container__38bR0\",\"postsCont\":\"MyPosts_postsCont__3JtGH\",\"posts\":\"MyPosts_posts__1cFJ_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user_item\":\"Users_user_item__32dHa\",\"left\":\"Users_left__m7tFv\",\"ava\":\"Users_ava__3yJcy\",\"button\":\"Users_button__2mPMe\",\"right\":\"Users_right__81WH_\",\"name\":\"Users_name__3OEns\",\"status\":\"Users_status__11jhF\",\"loc\":\"Users_loc__1oGbk\",\"pages\":\"Users_pages__MyCLV\",\"selectedPage\":\"Users_selectedPage__3jUdx\",\"loadCont\":\"Users_loadCont__3v-dK\",\"load\":\"Users_load__3QYv7\"};","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}