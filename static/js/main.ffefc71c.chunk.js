(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports={header:"Header_header__2eK0K",mymove:"Header_mymove__295AH",logoContainer:"Header_logoContainer__3P0HL",logo:"Header_logo__2I3GR",spin:"Header_spin__CEDR5",login:"Header_login__1vQQ2",button:"Header_button__3W2Xg",menu:"Header_menu__4SLae",linkContainer:"Header_linkContainer__3PmKm",activeLink:"Header_activeLink__3gRI2"}},105:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(0),r=a.n(n),o=a(1),i=a(11),s=function(e){return{isAuth:e.auth.isAuth}},l=function(e){return Object(i.b)(s)(function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(o.a,{to:"/login"})})}},126:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(31),r=a(7),o=function(e){return{type:"ADD_MSG",message:e}},i={dialogs:[{id:"1",name:"John"},{id:"2",name:"Jo"},{id:"3",name:"Bob"},{id:"4",name:"Karrie"}],messages:[{id:1,message:"hi"},{id:2,message:"shalom"},{id:3,message:"hek lol keck"},{id:4,message:"kuku"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MSG":var a={id:15,message:t.message};return Object(r.a)({},e,{messages:Object(n.a)(e.messages).concat([a])});default:return e}}},127:function(e,t,a){"use strict";a.d(t,"c",function(){return l}),a.d(t,"b",function(){return c}),a.d(t,"d",function(){return u});var n=a(31),r=a(7),o=a(15),i=function(e){return{type:"IS_FETCHING",isFetching:e}},s=function(e,t){return{type:"IS_DISABLE",isDisable:e,userId:t}},l=function(e,t){return function(a){a(i(!0)),o.c.getUsers(e,t).then(function(t){a({type:"SET_USERS",users:t.items}),a(function(e){return{type:"SET_PAGE",selectedPage:e}}(e)),a({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:t.totalCount}),a(i(!1))})}},c=function(e){return function(t){t(s(!0,e)),o.c.Follow(e).then(function(a){0===a.resultCode&&t(function(e){return{type:"FOLLOW",userId:e}}(e)),t(s(!1,e))})}},u=function(e){return function(t){t(s(!0,e)),o.c.UnFollow(e).then(function(a){0===a.resultCode&&t(function(e){return{type:"UNFOLLOW",userId:e}}(e)),t(s(!1,e))})}},m={users:[],pageSize:25,totalUsersCount:0,selectedPage:1,isFetching:1,isDisable:[]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAKE":return Object(r.a)({},e,{fake:e.fake+1});case"FOLLOW":return Object(r.a)({},e,{users:e.users.map(function(e){return e.id===t.userId?Object(r.a)({},e,{followed:!0}):e})});case"UNFOLLOW":return Object(r.a)({},e,{users:e.users.map(function(e){return e.id===t.userId?Object(r.a)({},e,{followed:!1}):e})});case"SET_USERS":return Object(r.a)({},e,{users:Object(n.a)(t.users)});case"SET_PAGE":return Object(r.a)({},e,{selectedPage:t.selectedPage});case"SET_TOTAL_USERS_COUNT":return Object(r.a)({},e,{totalUsersCount:t.totalUsersCount});case"IS_FETCHING":return Object(r.a)({},e,{isFetching:t.isFetching});case"IS_DISABLE":return Object(r.a)({},e,{isDisable:t.isDisable?Object(n.a)(e.isDisable).concat([t.userId]):e.isDisable.filter(function(e){return e!==t.userId})});default:return e}}},129:function(e,t,a){e.exports={content:"App_content__2LpSI"}},130:function(e,t,a){e.exports={content:"Profile_content__3gbBf"}},131:function(e,t,a){e.exports=a.p+"static/media/loader.502a11ad.gif"},132:function(e,t,a){e.exports=a.p+"static/media/editmode2.e818ac09.png"},135:function(e,t,a){e.exports=a.p+"static/media/it_logo.4117677c.jpg"},136:function(e,t,a){e.exports={container:"Footer_container__3QY9r"}},14:function(e,t,a){e.exports={item:"Post_item__1DuBJ",logo:"Post_logo__1Yi-a",likeImg:"Post_likeImg__3gz_L",logodiv:"Post_logodiv__3ZcJA",textCont:"Post_textCont__13dn_",txt:"Post_txt__3ZtUi",formCont:"Post_formCont__lxHDC",buttonCont:"Post_buttonCont__1_2eX",textarea:"Post_textarea__2WqQy",addPostButtonCont:"Post_addPostButtonCont__3px3-",addPostButton:"Post_addPostButton__22wRc"}},15:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"c",function(){return i}),a.d(t,"b",function(){return s});var n=a(134),r=n.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"537bb101-34d5-4e34-81ad-544337f8e7e9"}}),o={AuthMe:function(){return r.get("auth/me")},Login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("/auth/login",{email:e,password:t,rememberMe:a})},Logout:function(){return r.delete("auth/login")}},i={GetProfileData:function(e){return console.warn("Obsolete method, please use ProfileApi object here"),s.GetProfileData(e)},getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users?page=".concat(e,"&count=").concat(t)).then(function(e){return e.data})},Follow:function(e){return r.post("follow/".concat(e),{}).then(function(e){return e.data})},UnFollow:function(e){return r.delete("follow/".concat(e)).then(function(e){return e.data})}},s={GetStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return r.get("profile/status/".concat(e))},UpdateStatus:function(e){return r.put("profile/status",{status:e})},GetProfileData:function(e){return r.get("profile/".concat(e)).then(function(e){return e.data})},UploadAva:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})},SaveProfile:function(e){return r.put("profile",e).then(function(e){return e.data})}}},163:function(e,t,a){e.exports=a(304)},169:function(e,t,a){},17:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"b",function(){return o});var n=function(e){return e||"number"===typeof e?void 0:"Required fill"},r=function(e){return function(t){return t&&t.length>e?"max length is ".concat(e," symbols"):void 0}},o=function(e){return function(t){return t&&t.length<e?"minimal length is ".concat(e," symbols"):void 0}}},19:function(e,t,a){"use strict";a.d(t,"b",function(){return l}),a.d(t,"a",function(){return c});var n=a(32),r=a(0),o=a.n(r),i=a(20),s=a.n(i),l=function(e){var t=e.input,a=e.meta,r=Object(n.a)(e,["input","meta"]);return o.a.createElement("div",{className:s.a.formControl},a.touched&&a.error&&o.a.createElement("div",{className:s.a.errorText},a.error),o.a.createElement("div",null,o.a.createElement("textarea",Object.assign({},t,r,{className:a.touched&&a.error?s.a.fieldArea:""}),">")))},c=function(e){var t=e.input,a=e.meta,r=Object(n.a)(e,["input","meta"]);return o.a.createElement("div",{className:s.a.formControl},a.touched&&a.error&&o.a.createElement("div",{className:s.a.errorText},a.error),o.a.createElement("div",null,o.a.createElement("input",Object.assign({},t,r,{className:a.touched&&a.error?s.a.fieldArea:""}))))}},20:function(e,t,a){e.exports={formControl:"FormControls_formControl__2sZDE",errorText:"FormControls_errorText__2tyzZ",fieldArea:"FormControls_fieldArea__3PKkH",formCommonError:"FormControls_formCommonError__3hWdq"}},24:function(e,t,a){e.exports={container:"Login_container__3sse8",card:"Login_card__MqP_Y",cardTitle:"Login_cardTitle__2QohQ",inputs:"Login_inputs__3oNFo",rememberMe:"Login_rememberMe__32Tn6",buttonContainer:"Login_buttonContainer__3zpfp",button:"Login_button__yR83U"}},301:function(e,t,a){e.exports={nav:"Navbar_nav__PIrdo",activeLink:"Navbar_activeLink__pKUJQ"}},304:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n);a(59),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(50),i=a.n(o),s=a(34),l=a(35),c=a(38),u=a(36),m=a(74),d=a(12),f=a(1),p=(a(169),a(129)),g=a.n(p),E=function(){return r.a.createElement("div",null)},_=function(){return r.a.createElement("div",null)},v=function(){return r.a.createElement("div",null)},h=function(e){return r.a.createElement("div",null,"Hi friends!")},b=a(11),C=a(130),S=a.n(C),I=a(32),P=a(5),k=a.n(P),A=a(51),N=a.n(A),O=a(131),j=a.n(O),y=function(){return r.a.createElement("div",{className:"i.loadCont",style:{margin:"0 auto"}},r.a.createElement("img",{className:"i.load",src:j.a,alt:"preload"}))},F=a(132),M=a.n(F),L=a(99),T=function(e){var t=Object(n.useState)(!1),a=Object(L.a)(t,2),o=a[0],i=a[1],s=Object(n.useState)(e.status),l=Object(L.a)(s,2),c=l[0],u=l[1];Object(n.useEffect)(function(){u(e.status)},[e.status]);return e.isStatusFetching?r.a.createElement(y,null):r.a.createElement("div",null,o?r.a.createElement("input",{type:"text",onChange:function(e){u(e.currentTarget.value)},onBlur:function(){i(!1),c!==e.status&&e.updateStatus(c)},value:c,autoFocus:!0}):r.a.createElement("div",{onDoubleClick:function(){i(!0)}},e.status||"empty status"))},U=a(69),w=a(70),D=a(17),x=a(19),H=a(20),B=a.n(H),R=a(24),G=a.n(R),K=Object(D.a)(30),J=Object(D.a)(150),Z=Object(D.b)(4),Q=Object(w.a)({form:"editProfile"})(function(e){var t=e.profile,a=e.error,n=Object(I.a)(e,["profile","error"]);return r.a.createElement("div",{className:k.a.userEditProfile},r.a.createElement("form",{onSubmit:n.handleSubmit},a&&r.a.createElement("div",{className:B.a.errorText},a),r.a.createElement("div",{className:k.a.userName},r.a.createElement(U.a,{validate:[D.c,K,Z],component:x.a,type:"text",name:"fullName"})),r.a.createElement("div",{className:k.a.editLFJ+" "+k.a.userEditSkill},r.a.createElement("label",{for:"lookforjob"},"Looking for a job: "),r.a.createElement(U.a,{component:x.a,id:"lookforjob",type:"checkbox",name:"lookingForAJob"})),r.a.createElement("div",{className:k.a.userEditSkill},"Skills:",r.a.createElement(U.a,{validate:[D.c,J,Z],component:x.b,type:"text",name:"lookingForAJobDescription"})),r.a.createElement("div",{className:k.a.userEditSkill},"About me:",r.a.createElement(U.a,{validate:[D.c,J,Z],component:x.b,type:"text",name:"aboutMe"})),r.a.createElement("div",{className:"p.userContacts"},r.a.createElement("div",{className:k.a.userContactsTitle},"My Contacts:"),Object.keys(t.contacts).map(function(e){return r.a.createElement("div",{className:k.a.editContactItem},r.a.createElement("b",{style:{minWidth:"150px"}},e,": "),r.a.createElement(U.a,{key:e,placeholder:e,name:"contacts."+e,component:x.a,type:"text"}))})),r.a.createElement("div",{className:k.a.buttonContainer},r.a.createElement("button",{className:k.a.button},"Save"),r.a.createElement("button",{className:k.a.button,type:"reset",onClick:function(){n.setIsEditProfile(!1)}},"Cancel"))))}),z=a(98),V=a.n(z),W=function(e){var t=e.saveProfile,a=Object(I.a)(e,["saveProfile"]),n=function(e){var t=e.title,a=e.value;return r.a.createElement("div",{className:k.a.aboutMe},r.a.createElement("b",null,"  ",t," "),": ",r.a.createElement("a",{href:a},a))};if(!a.profile)return r.a.createElement(y,null);var o=a.profile,i=a.profile.photos.large?a.profile.photos.large:N.a;return r.a.createElement("div",{className:k.a.userProfile},r.a.createElement("div",{className:k.a.userImg},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",position:"relative"}},a.isFetching?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:V.a.loadCont},r.a.createElement("div",{className:V.a.load},r.a.createElement(y,null))),r.a.createElement("div",{className:k.a.profileImgContainer},r.a.createElement("img",{style:{opacity:"0.4"},src:i,alt:"avatar",className:k.a.profileImg}))):r.a.createElement("div",{className:k.a.profileImgContainer},r.a.createElement("img",{src:i,alt:"avatar",className:k.a.profileImg}),a.isOwner&&r.a.createElement("div",{className:k.a.inputButtonContainer},r.a.createElement("label",{className:k.a.inputButton},r.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&a.uploadAvatar(e.target.files[0])}}),r.a.createElement("span",{className:"input-file-btn"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")))),r.a.createElement(function(e){return e.uploadAvaMsg.error&&e.uploadAvaMsg.error.length?r.a.createElement("div",{className:k.a.uploadMsg+" "+k.a.uploadError},e.uploadAvaMsg.error.join("\n")):e.uploadAvaMsg.success&&e.uploadAvaMsg.success.length?r.a.createElement("div",{className:k.a.uploadMsg+" "+k.a.uploadSuccess},e.uploadAvaMsg.success.join("\n")):r.a.createElement(r.a.Fragment,null)},{uploadAvaMsg:a.uploadAvaMsg})),a.isEditMode?r.a.createElement(Q,Object.assign({},a,{onSubmit:function(e){t(e)},initialValues:o})):r.a.createElement(function(e){var t,o=e.profile,i=e.isOwner,s=e.goSetEditMode;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:k.a.test},r.a.createElement("div",{className:k.a.userProfileData},r.a.createElement("div",{className:k.a.userNameStatusCont},r.a.createElement("div",{className:k.a.userNameCont},r.a.createElement("div",{className:k.a.userName},!!((t=o.fullName)&&t.length>0)&&t.split(" ").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join(" ")),i&&r.a.createElement("div",{className:k.a.editProfileButtonCont,onClick:s},r.a.createElement("img",{className:k.a.editProfileButton,src:M.a,alt:"edit profile button"}))),r.a.createElement("div",{className:k.a.userStatus},i?r.a.createElement(T,{status:a.status,updateStatus:a.updateStatus,isOwner:a.isOwner,isStatusFetching:a.isStatusFetching}):a.status)),o.aboutMe&&r.a.createElement("div",{className:k.a.aboutMe},r.a.createElement("b",null,"About me:")," ",o.aboutMe),r.a.createElement("div",{className:k.a.aboutMe},o.lookingForAJob?"I'm looking for a job":""),o.lookingForAJob&&r.a.createElement("div",{className:k.a.aboutMe},r.a.createElement("b",null,"Skills:")," ",o.lookingForAJobDescription)),r.a.createElement("div",{className:k.a.userContacts},r.a.createElement("div",{className:k.a.userContactsTitle},"My Contacts:"),Object.keys(o.contacts).map(function(e){if(o.contacts[e])return r.a.createElement(n,{key:e,title:e,value:o.contacts[e]})}),Object.values(o.contacts).every(function(e){return null===e||void 0===e})&&r.a.createElement("div",null,r.a.createElement("i",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0435\u043b \u043d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")))))},{profile:o,isOwner:a.isOwner,goSetEditMode:function(){a.setIsEditProfile(!0)}})))},Y=a(31),X=a(7),q=a(15),$=a(72),ee=function(e){return{type:"SET_USER_PROFILE",profile:e}},te=function(e){return{type:"SET_STATUS",status:e}},ae=function(e){return{type:"IS_FETCHING",isFetching:e}},ne=function(e){return{type:"IS_STATUS_FETCHING",isStatusFetching:e}},re=function(){return{type:"UPLOAD_AVA_MSG",msg:{errorMsg:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,successMsg:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}}},oe=function(e){return{type:"SET_IS_EDIT_PROFILE",isEditMode:e}},ie=function(e){return function(t){q.c.GetProfileData(e).then(function(e){t(ee(e))})}},se={posts:[{id:1,post:"Hi everyone!",likesCount:1,isLiked:!1},{id:2,post:"Its my first p0$t!",likesCount:21,isLiked:!1},{id:3,post:"check it out",likesCount:3,isLiked:!1},{id:4,post:"I feel great!",likesCount:15,isLiked:!1}],profile:null,selectedUser:null,status:"",isFetching:!1,isStatusFetching:!1,uploadAvaMsg:{error:null,success:null},isEditMode:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var a=e.posts.length,n={id:++a,post:t.post,likesCount:0,isLiked:!1};return Object(X.a)({},e,{posts:Object(Y.a)(e.posts).concat([n])});case"ADD_LIKE_TOGGLE":return Object(X.a)({},e,{posts:e.posts.map(function(e){return e.id===t.postId?Object(X.a)({},e,{likesCount:e.isLiked?--e.likesCount:++e.likesCount,isLiked:!e.isLiked}):e})});case"SET_USER_PROFILE":return Object(X.a)({},e,{profile:t.profile});case"SELECT_USER":return Object(X.a)({},e,{selectedUser:t.userId});case"SET_STATUS":return Object(X.a)({},e,{status:t.status});case"IS_FETCHING":return Object(X.a)({},e,{isFetching:t.isFetching});case"IS_STATUS_FETCHING":return Object(X.a)({},e,{isStatusFetching:t.isStatusFetching});case"DELETE_POST":return Object(X.a)({},e,{posts:e.posts.filter(function(e){return e.id!==t.postId})});case"UPLOAD_AVA_SUCCESS":return Object(X.a)({},e,{profile:Object(X.a)({},e.profile,{photos:t.file})});case"UPLOAD_AVA_MSG":return Object(X.a)({},e,{uploadAvaMsg:Object(X.a)({},e.uploadAvaMsg,{error:t.msg.errorMsg,success:t.msg.successMsg})});case"SET_IS_EDIT_PROFILE":return Object(X.a)({},e,{isEditMode:t.isEditMode});default:return e}},ce=a(87),ue=a.n(ce),me=a(14),de=a.n(me),fe=function(e){var t=e.profileSmallImg;return r.a.createElement("div",{className:de.a.item},r.a.createElement("div",{className:de.a.logodiv},r.a.createElement("img",{className:de.a.logo,src:t,alt:""})),r.a.createElement("div",{className:de.a.textCont},r.a.createElement("div",{className:de.a.txt},e.msg),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("img",{className:de.a.likeImg,onClick:e.addLike,src:"https://pngimg.com/uploads/like/like_PNG64.png",alt:"small_user_img"}),e.likeCount>0?e.likeCount:null))))},pe=r.a.memo(function(e){var t=e.profile&&e.profile.photos.small?e.profile.photos.small:N.a,a=e.posts,n=a.sort(function(e,t){return t.id-e.id});n=a.map(function(a,n){return r.a.createElement(fe,{key:n,msg:a.post,addLike:function(){e.addLike(a.id)},likeCount:a.likesCount,profileSmallImg:t})});var o=e.addPost,i=Object(D.a)(250),s=Object(w.a)({form:"postForm"})(function(e){return r.a.createElement("div",{className:de.a.item},r.a.createElement("div",{className:de.a.logodiv},r.a.createElement("img",{className:de.a.logo,src:t,alt:"userLogoImg"})),r.a.createElement("div",null,r.a.createElement("form",{className:de.a.formCont,action:"",onSubmit:e.handleSubmit},r.a.createElement("div",{className:de.a.textarea},r.a.createElement(U.a,{component:x.b,placeholder:"type something",name:"post",validate:[i],onKeyDown:function(t){13==t.keyCode&&0==t.shiftKey&&e.handleSubmit()}})),r.a.createElement("div",{className:de.a.addPostButtonCont},r.a.createElement("button",{className:de.a.addPostButton},"Add Post")))))});return r.a.createElement("div",{className:ue.a.container},r.a.createElement("div",{className:ue.a.postsCont},r.a.createElement("div",null,r.a.createElement(s,{onSubmit:function(e){o(e.post)}})),r.a.createElement("div",{className:ue.a.posts},n)))}),ge=Object(b.b)(function(e){return{posts:e.profilePage.posts,profile:e.profilePage.profile}},{addPost:function(e){return{type:"ADD_POST",post:e}},addLike:function(e,t){return{type:"ADD_LIKE_TOGGLE",postId:e}}})(pe),Ee=function(e){return r.a.createElement("div",{className:S.a.content},r.a.createElement(W,{profile:e.profile,userId:e.userId,status:e.status,updateStatus:e.updateStatus,isFetching:e.isFetching,isStatusFetching:e.isStatusFetching,isOwner:e.isOwner,uploadAvatar:e.uploadAvatar,uploadAvaMsg:e.uploadAvaMsg,saveProfile:e.saveProfile,isEditMode:e.isEditMode,setIsEditProfile:e.setIsEditProfile}),!e.isEditMode&&r.a.createElement(ge,null))},_e=a(105),ve=a(9),he=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"RefreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authId)||this.props.history.push("/login"),this.props.GetProfileData(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.RefreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.RefreshProfile()}},{key:"render",value:function(){return r.a.createElement(Ee,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,updateStatus:this.props.updateStatus,uploadAvatar:this.props.uploadAvatar,isFetching:this.props.isFetching,isStatusFetching:this.props.isStatusFetching,isEditMode:this.props.isEditMode}))}}]),t}(r.a.Component),be=Object(ve.d)(Object(b.b)(function(e){return{profile:e.profilePage.profile,authId:e.auth.userId,status:e.profilePage.status,isStatusFetching:e.profilePage.isStatusFetching,isFetching:e.profilePage.isFetching,uploadAvaMsg:e.profilePage.uploadAvaMsg,isEditMode:e.profilePage.isEditMode}},{setUserProfile:ee,GetProfileData:ie,updateStatus:function(e){return function(t){t(ne(!0)),q.b.UpdateStatus(e).then(function(a){t(ne(!1)),0===a.data.resultCode&&t(te(e))})}},getStatus:function(e){return function(t){q.b.GetStatus(e).then(function(e){200===e.status&&t(te(e.data))})}},uploadAvatar:function(e){return function(t){t(ae(!0)),q.b.UploadAva(e).then(function(e){0===e.resultCode?(t({type:"UPLOAD_AVA_SUCCESS",file:e.data.photos}),t(ae(!1)),t(re(null,["Uploading file is done!"])),setTimeout(function(){t(re(null))},2500)):(t(ae(!1)),t(re(e.messages,null)),setTimeout(function(){t(re(null))},2500))})}},saveProfile:function(e){return function(t,a){q.b.SaveProfile(e).then(function(e){if(0===e.resultCode){var n=a().auth.userId;t(ie(n)),t(oe(!1))}else{var r={},o=!0,i=!1,s=void 0;try{for(var l,c=e.messages[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;r[u.slice(u.lastIndexOf("Contacts->")+"Contacts->".length,-1).toLowerCase()]=u}}catch(m){i=!0,s=m}finally{try{o||null==c.return||c.return()}finally{if(i)throw s}}t(Object($.a)("editProfile",{contacts:Object(X.a)({},r)}))}})}},setIsEditProfile:oe}),f.g,_e.a)(he),Ce=a(10),Se=a.n(Ce),Ie=a(135),Pe=a.n(Ie),ke=(a(301),function(e){return r.a.createElement("header",{className:Se.a.header},r.a.createElement("div",{className:Se.a.logoContainer},r.a.createElement(d.b,{to:"/profile"},r.a.createElement("img",{className:Se.a.logo,src:Pe.a,alt:"logo"}))),r.a.createElement("div",{className:Se.a.menu},r.a.createElement("div",{className:Se.a.linkContainer},r.a.createElement(d.b,{activeClassName:Se.a.activeLink,to:"/profile"},"Profile")),r.a.createElement("div",{className:Se.a.linkContainer},r.a.createElement(d.b,{activeClassName:Se.a.activeLink,to:"/dialogs"},"Messages")),r.a.createElement("div",{className:Se.a.linkContainer},r.a.createElement(d.b,{activeClassName:Se.a.activeLink,to:"/news"},"News")),r.a.createElement("div",{className:Se.a.linkContainer},r.a.createElement(d.b,{activeClassName:Se.a.activeLink,to:"/settings"},"Settings")),r.a.createElement("div",{className:Se.a.linkContainer},r.a.createElement(d.b,{activeClassName:Se.a.activeLink,to:"/friends"},"Friends")),r.a.createElement("div",{className:Se.a.linkContainer},r.a.createElement(d.b,{activeClassName:Se.a.activeLink,to:"/users"},"Users"))),r.a.createElement("div",{className:Se.a.login},e.isAuth?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Se.a.button,onClick:e.LogoutThunk},"Logout")):r.a.createElement(d.b,{className:Se.a.button,to:"login"},"Login")))}),Ae=function(e,t,a){return{type:"SET_USER_DATA",payload:{userId:e,email:t,login:a,isAuth:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}}},Ne=function(){return function(e){return q.a.AuthMe().then(function(t){if(0===t.data.resultCode){var a=t.data.data,n=a.id,r=a.email,o=a.login;e(Ae(n,r,o,!0))}})}},Oe={userId:null,email:null,login:null,isFetching:!1,isAuth:!1},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(X.a)({},e,t.payload);case"IS_FETCHING":return Object(X.a)({},e,{isFetching:t.isFetching});default:return e}},ye=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,this.props))}}]),t}(r.a.Component),Fe=Object(b.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}},{AuthMeThunk:Ne,LogoutThunk:function(){return function(e){q.a.Logout().then(function(t){console.log(t),0===t.data.resultCode&&e(Ae({userId:null,email:null,login:null,isAuth:!1}))})}}})(ye),Me=Object(D.a)(30),Le=Object(w.a)({form:"loginForm"})(function(e){return r.a.createElement("form",{action:"",onSubmit:e.handleSubmit,className:e.error?B.a.formCommonError:""},e.error&&r.a.createElement("div",{className:B.a.errorText},e.error),r.a.createElement("div",{className:G.a.inputs},r.a.createElement(U.a,{validate:[D.c,Me],component:x.a,type:"text",placeholder:"login",name:"email"})),r.a.createElement("div",{className:G.a.inputs},r.a.createElement(U.a,{validate:[D.c,Me],component:x.a,type:"password",placeholder:"password",name:"password"})),r.a.createElement("div",{className:G.a.rememberMe},r.a.createElement("label",{htmlFor:"rememberMe"},"Remember me"),r.a.createElement(U.a,{component:x.a,id:"rememberMe",type:"checkbox",name:"remember"})),r.a.createElement("div",{className:G.a.buttonContainer},r.a.createElement("button",{className:G.a.button},"Sign in")))}),Te=function(e){return e.isAuth?r.a.createElement(f.a,{to:"/profile"}):r.a.createElement("div",{className:G.a.container},r.a.createElement("div",{className:G.a.card},r.a.createElement("h3",{className:G.a.cardTitle},"Login please"),r.a.createElement(Le,{onSubmit:function(t){e.LoginThunk(t.email,t.password,t.rememberMe)}})))},Ue=Object(b.b)(function(e){return{isAuth:e.auth.isAuth}},{LoginThunk:function(e,t,a){return function(n){q.a.Login(e,t,a).then(function(e){if(console.log(e),0===e.data.resultCode)console.log(e.data),e.data.data.userId,n(Ne());else{var t=e.data.messages&&e.data.messages.length>0?e.data.messages[0]:"Common error of authorization";n(Object($.a)("loginForm",{_error:t}))}})}}})(Te),we={initSuccess:!1},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we;switch((arguments.length>1?arguments[1]:void 0).type){case"INIT_APP":return Object(X.a)({},e,{initSuccess:!0});default:return e}},xe=a(136),He=a.n(xe),Be=function(){return r.a.createElement("div",{className:He.a.container},r.a.createElement("div",null,(new Date).getFullYear()," \u0433."),r.a.createElement("div",null,"zjohnnyjollyroger@\u042f.ru"))},Re=r.a.lazy(function(){return a.e(1).then(a.bind(null,307))}),Ge=r.a.lazy(function(){return a.e(2).then(a.bind(null,308))}),Ke=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.InitializeAppThunk()}},{key:"render",value:function(){return this.props.initSuccess?r.a.createElement(r.a.Suspense,{fallback:y},r.a.createElement(d.a,null,r.a.createElement("div",{style:{display:"flex",width:"100%",flexDirection:"column",height:"100%"}},r.a.createElement(Fe,null),r.a.createElement("div",{className:g.a.content},r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/dialogs",render:function(){return r.a.createElement(Ge,null)}}),r.a.createElement(f.b,{path:"/news"},r.a.createElement(E,null)),r.a.createElement(f.b,{path:"/music"},r.a.createElement(_,null)),r.a.createElement(f.b,{path:"/settings"},r.a.createElement(v,null)),r.a.createElement(f.b,{path:"/friends",render:function(){return r.a.createElement(h,null)}}),r.a.createElement(f.b,{path:"/users",render:function(){return r.a.createElement(Re,null)}}),r.a.createElement(f.b,{path:"/login",render:function(){return r.a.createElement(Ue,null)}}),r.a.createElement(f.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(be,null)}}))),r.a.createElement(Be,null)))):r.a.createElement(y,null)}}]),t}(r.a.Component),Je=Object(f.g)(Object(b.b)(function(e){return{initSuccess:e.app.initSuccess}},{InitializeAppThunk:function(){return function(e){e(Ne()).then(function(){e({type:"INIT_APP"})})}}})(Ke)),Ze=a(126),Qe={},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe;arguments.length>1&&arguments[1];return e},Ve=a(127),We=a(137),Ye=a(128),Xe=Object(ve.c)({profilePage:le,dialogsPage:Ze.b,friendsPage:ze,usersPage:Ve.a,auth:je,app:De,form:Ye.a}),qe=Object(ve.e)(Xe,Object(ve.a)(We.a));window.store=qe;var $e=qe;i.a.render(r.a.createElement(d.a,null,r.a.createElement(b.a,{store:$e},r.a.createElement(Je,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},5:function(e,t,a){e.exports={ava:"ProfileInfo_ava__2DMnG",lookingForAJob:"ProfileInfo_lookingForAJob__12QH2",notLookingForAJob:"ProfileInfo_notLookingForAJob__3zzp8",userProfile:"ProfileInfo_userProfile__14plZ",userProfileData:"ProfileInfo_userProfileData__3S69T",userEditProfile:"ProfileInfo_userEditProfile__hHyPH",editLFJ:"ProfileInfo_editLFJ__1c8Hp",userImg:"ProfileInfo_userImg__3wDeV",profileImgContainer:"ProfileInfo_profileImgContainer__3iplx",profileImg:"ProfileInfo_profileImg__Ah7Vv",inputButtonContainer:"ProfileInfo_inputButtonContainer__2uIMk",inputButton:"ProfileInfo_inputButton__1kGZY",editProfileButtonCont:"ProfileInfo_editProfileButtonCont__3zwym",editProfileButton:"ProfileInfo_editProfileButton__YXTnv",userNameCont:"ProfileInfo_userNameCont__31NTp",userNameStatusCont:"ProfileInfo_userNameStatusCont__-oZji",userName:"ProfileInfo_userName__1hOUH",userEditSkill:"ProfileInfo_userEditSkill__2IVwh",editContactItem:"ProfileInfo_editContactItem__2HMjN",aboutMe:"ProfileInfo_aboutMe__bWxim",buttonContainer:"ProfileInfo_buttonContainer__3pkUR",button:"ProfileInfo_button__27eYv",userContacts:"ProfileInfo_userContacts__3gXzA",userContactsTitle:"ProfileInfo_userContactsTitle__2vbnv",contactsItems:"ProfileInfo_contactsItems__3Nz9m",uploadMsg:"ProfileInfo_uploadMsg__22wXw",uploadError:"ProfileInfo_uploadError__2Pm2z",uploadSuccess:"ProfileInfo_uploadSuccess__35vXS"}},51:function(e,t){e.exports="data:image/png;base64,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"},59:function(e,t,a){},87:function(e,t,a){e.exports={container:"MyPosts_container__38bR0",postsCont:"MyPosts_postsCont__3JtGH",posts:"MyPosts_posts__1cFJ_"}},98:function(e,t,a){e.exports={user_item:"Users_user_item__32dHa",left:"Users_left__m7tFv",ava:"Users_ava__3yJcy",button:"Users_button__2mPMe",right:"Users_right__81WH_",name:"Users_name__3OEns",status:"Users_status__11jhF",loc:"Users_loc__1oGbk",pages:"Users_pages__MyCLV",selectedPage:"Users_selectedPage__3jUdx",loadCont:"Users_loadCont__3v-dK",load:"Users_load__3QYv7"}}},[[163,4,3]]]);
//# sourceMappingURL=main.ffefc71c.chunk.js.map