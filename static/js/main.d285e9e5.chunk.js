(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s});var a=n(129),r=a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"537bb101-34d5-4e34-81ad-544337f8e7e9"}}),o={AuthMe:function(){return r.get("auth/me")},Login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("/auth/login",{email:e,password:t,rememberMe:n})},Logout:function(){return r.delete("auth/login")}},i={GetProfileData:function(e){return console.warn("Obsolete method, please use ProfileApi object here"),s.GetProfileData(e)},getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users?page=".concat(e,"&count=").concat(t)).then(function(e){return e.data})},Follow:function(e){return r.post("follow/".concat(e),{}).then(function(e){return e.data})},UnFollow:function(e){return r.delete("follow/".concat(e)).then(function(e){return e.data})}},s={GetStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return r.get("profile/status/".concat(e))},UpdateStatus:function(e){return r.put("profile/status",{status:e})},GetProfileData:function(e){return r.get("profile/".concat(e)).then(function(e){return e.data})}}},122:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(34),r=n(7),o=function(e){return{type:"ADD_MSG",message:e}},i={dialogs:[{id:"1",name:"John"},{id:"2",name:"Jo"},{id:"3",name:"Bob"},{id:"4",name:"Karrie"}],messages:[{id:1,message:"hi"},{id:2,message:"shalom"},{id:3,message:"hek lol keck"},{id:4,message:"kuku"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MSG":var n={id:15,message:t.message};return Object(r.a)({},e,{messages:Object(a.a)(e.messages).concat([n])});default:return e}}},123:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return c});var a=n(34),r=n(7),o=n(12),i=function(e){return{type:"IS_FETCHING",isFetching:e}},s=function(e,t){return{type:"IS_DISABLE",isDisable:e,userId:t}},l=function(e,t){return function(n){n(i(!0)),o.c.getUsers(e,t).then(function(t){n({type:"SET_USERS",users:t.items}),n(function(e){return{type:"SET_PAGE",selectedPage:e}}(e)),n({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:t.totalCount}),n(i(!1))})}},u=function(e){return function(t){t(s(!0,e)),o.c.Follow(e).then(function(n){0===n.resultCode&&t(function(e){return{type:"FOLLOW",userId:e}}(e)),t(s(!1,e))})}},c=function(e){return function(t){t(s(!0,e)),o.c.UnFollow(e).then(function(n){0===n.resultCode&&t(function(e){return{type:"UNFOLLOW",userId:e}}(e)),t(s(!1,e))})}},m={users:[],pageSize:25,totalUsersCount:0,selectedPage:1,isFetching:1,isDisable:[]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAKE":return Object(r.a)({},e,{fake:e.fake+1});case"FOLLOW":return Object(r.a)({},e,{users:e.users.map(function(e){return e.id===t.userId?Object(r.a)({},e,{followed:!0}):e})});case"UNFOLLOW":return Object(r.a)({},e,{users:e.users.map(function(e){return e.id===t.userId?Object(r.a)({},e,{followed:!1}):e})});case"SET_USERS":return Object(r.a)({},e,{users:Object(a.a)(t.users)});case"SET_PAGE":return Object(r.a)({},e,{selectedPage:t.selectedPage});case"SET_TOTAL_USERS_COUNT":return Object(r.a)({},e,{totalUsersCount:t.totalUsersCount});case"IS_FETCHING":return Object(r.a)({},e,{isFetching:t.isFetching});case"IS_DISABLE":return Object(r.a)({},e,{isDisable:t.isDisable?Object(a.a)(e.isDisable).concat([t.userId]):e.isDisable.filter(function(e){return e!=t.userId})});default:return e}}},126:function(e,t,n){e.exports={content:"App_content__2LpSI"}},127:function(e,t,n){e.exports={content:"Profile_content__3gbBf"}},128:function(e,t,n){e.exports=n.p+"static/media/loader.502a11ad.gif"},130:function(e,t,n){e.exports={posts:"MyPosts_posts__1cFJ_"}},159:function(e,t,n){e.exports=n(297)},165:function(e,t,n){},17:function(e,t,n){e.exports={ava:"ProfileInfo_ava__2DMnG",lookingForAJob:"ProfileInfo_lookingForAJob__12QH2",notLookingForAJob:"ProfileInfo_notLookingForAJob__3zzp8",userProfile:"ProfileInfo_userProfile__14plZ",userImg:"ProfileInfo_userImg__3wDeV",userProfileData:"ProfileInfo_userProfileData__3S69T",userName:"ProfileInfo_userName__1hOUH",userStatus:"ProfileInfo_userStatus__3ehmQ",userContacts:"ProfileInfo_userContacts__3gXzA"}},20:function(e,t,n){e.exports={formControl:"FormControls_formControl__2sZDE",errorText:"FormControls_errorText__2tyzZ",fieldArea:"FormControls_fieldArea__3PKkH",formCommonError:"FormControls_formCommonError__3hWdq"}},21:function(e,t,n){e.exports={nav:"Navbar_nav__PIrdo",activeLink:"Navbar_activeLink__pKUJQ"}},297:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a);n(91),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(46),i=n.n(o),s=n(24),l=n(25),u=n(27),c=n(26),m=n(28),f=n(10),d=n(1),p=(n(165),n(21)),g=n.n(p),E=function(){return r.a.createElement("nav",{className:g.a.nav},r.a.createElement("div",null,r.a.createElement(f.b,{activeClassName:g.a.activeLink,to:"/profile"},"Profile")),r.a.createElement("div",null,r.a.createElement(f.b,{activeClassName:g.a.activeLink,to:"/dialogs"},"Messages")),r.a.createElement("div",null,r.a.createElement(f.b,{activeClassName:g.a.activeLink,to:"/news"},"News")),r.a.createElement("div",null,r.a.createElement(f.b,{activeClassName:g.a.activeLink,to:"/music"},"Music")),r.a.createElement("div",null,r.a.createElement(f.b,{activeClassName:g.a.activeLink,to:"/settings"},"Settings")),r.a.createElement("div",null,r.a.createElement(f.b,{activeClassName:g.a.activeLink,to:"/friends"},"Friends")),r.a.createElement("div",null,r.a.createElement(f.b,{activeClassName:g.a.activeLink,to:"/users"},"Users")))},h=n(126),b=n.n(h),_=function(){return r.a.createElement("div",null)},v=function(){return r.a.createElement("div",null)},O=function(){return r.a.createElement("div",null)},S=function(e){return r.a.createElement("div",null,"Hi friends!")},j=n(9),k=n(127),P=n.n(k),I=n(17),C=n.n(I),N=n(93),F=n.n(N),y=n(88),A=n.n(y),T=n(128),w=n.n(T),L=function(){return r.a.createElement("div",{style:{margin:"0 auto"}},r.a.createElement("img",{className:A.a.load,src:w.a,alt:"preload"}))},U=n(12),D=(r.a.Component,n(81)),x=function(e){var t=Object(a.useState)(!1),n=Object(D.a)(t,2),o=n[0],i=n[1],s=Object(a.useState)(e.status),l=Object(D.a)(s,2),u=l[0],c=l[1];Object(a.useEffect)(function(){c(e.status)},[e.status]);return e.isFetching?r.a.createElement(L,null):r.a.createElement("div",null,o?r.a.createElement("input",{type:"text",onChange:function(e){c(e.currentTarget.value)},onBlur:function(){i(!1),u!==e.status&&e.updateStatus(u)},value:u,autoFocus:!0}):r.a.createElement("div",{onDoubleClick:function(){i(!0)}},e.status||"empty status"))},G=function(e){if(!e.profile)return r.a.createElement(L,null);var t=e.profile,n=e.profile.photos.large?e.profile.photos.large:F.a;return r.a.createElement("div",{className:C.a.content},r.a.createElement("div",{className:C.a.userProfile},r.a.createElement("div",{className:C.a.userImg},r.a.createElement("img",{src:n,alt:"avatar",className:t.lookingForAJob?C.a.lookingForAJob:C.a.notLookingForAJob})),r.a.createElement("div",{className:C.a.userProfileData},r.a.createElement("div",{className:C.a.userName},t.fullName),r.a.createElement("div",{className:C.a.userStatus},r.a.createElement(x,{status:e.status,updateStatus:e.updateStatus,isFetching:e.isFetching})),r.a.createElement("div",{className:C.a.userStatus},t.lookingForAJobDescription)),r.a.createElement("div",{className:C.a.userContacts},r.a.createElement("div",null,"Contacts"),r.a.createElement("ul",null,r.a.createElement("li",null,"fb: ",t.contacts.facebook),r.a.createElement("li",null,"Site: ",t.contacts.website),r.a.createElement("li",null,"vk: ",t.contacts.vk),r.a.createElement("li",null,"twitter: ",t.contacts.twitter),r.a.createElement("li",null,"instagram: ",t.contacts.instagram),r.a.createElement("li",null,"youtube: ",t.contacts.youtube),r.a.createElement("li",null,"github: ",t.contacts.github),r.a.createElement("li",null,"mainLink: ",t.contacts.mainLink)))))},M=n(34),H=n(7),J=function(e){return{type:"SET_USER_PROFILE",profile:e}},R=function(e){return{type:"SET_STATUS",status:e}},z=function(e){return{type:"IS_FETCHING",isFetching:e}},B={posts:[{id:1,post:"Hi everyone!",likesCount:1},{id:2,post:"Its my first p0$t, btchs!",likesCount:21},{id:3,post:"check it out",likesCount:3},{id:4,post:"grab the spoon!",likesCount:15}],profile:null,selectedUser:null,status:"",isFetching:!1},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var n={id:15,post:t.post,likesCount:555};return Object(H.a)({},e,{posts:Object(M.a)(e.posts).concat([n])});case"SET_USER_PROFILE":return Object(H.a)({},e,{profile:t.profile});case"SELECT_USER":return Object(H.a)({},e,{selectedUser:t.userId});case"SET_STATUS":return Object(H.a)({},e,{status:t.status});case"IS_FETCHING":return Object(H.a)({},e,{isFetching:t.isFetching});case"DELETE_POST":return Object(H.a)({},e,{posts:e.posts.filter(function(e){return e.id!==t.postId})});default:return e}},K=n(130),Q=n.n(K),Z=n(42),Y=n.n(Z),q=function(e){return r.a.createElement("div",{className:Y.a.item},r.a.createElement("div",{className:Y.a.logodiv},r.a.createElement("img",{className:Y.a.logo,src:"https://i.pinimg.com/originals/04/a8/73/04a87347b071ec062a586e02c23f6221.png",alt:""})),r.a.createElement("div",{className:Y.a.txt},e.msg,r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("img",{className:Y.a.like,src:"https://pngimg.com/uploads/like/like_PNG64.png",alt:""}),e.likeCount))))},V=n(124),$=n(125),X=n(38),ee=n(35),te=r.a.memo(function(e){var t=e.posts.map(function(e,t){return r.a.createElement(q,{key:t,msg:e.post,likeCount:e.likesCount})}),n=e.addPost,a=Object(ee.a)(30),o=Object($.a)({form:"postForm"})(function(e){return r.a.createElement("form",{action:"",onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(V.a,{component:X.b,placeholder:"type something",name:"post",validate:[ee.b,a]})),r.a.createElement("div",null,r.a.createElement("button",null,"Add Post")))});return console.log("render"),r.a.createElement("div",null,r.a.createElement("h3",null,"My posts"),r.a.createElement("div",null,r.a.createElement(o,{onSubmit:function(e){console.log(e),n(e.post)}})),r.a.createElement("div",{className:Q.a.posts},t))}),ne=Object(j.b)(function(e){return{posts:e.profilePage.posts}},{addPost:function(e){return{type:"ADD_POST",post:e}}})(te),ae=function(e){return r.a.createElement("div",{className:P.a.content},r.a.createElement(G,{profile:e.profile,userId:e.userId,status:e.status,updateStatus:e.updateStatus,isFetching:e.isFetching}),r.a.createElement(ne,null))},re=n(89),oe=n(8),ie=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authId)||this.props.history.push("/login"),this.props.GetProfileData(e),this.props.getStatus(e)}},{key:"render",value:function(){return r.a.createElement(ae,Object.assign({},this.props,{profile:this.props.profile,updateStatus:this.props.updateStatus}))}}]),t}(r.a.Component),se=Object(oe.d)(Object(j.b)(function(e){return{profile:e.profilePage.profile,authId:e.auth.userId,status:e.profilePage.status,isFetching:e.profilePage.isFetching}},{setUserProfile:J,GetProfileData:function(e){return function(t){U.c.GetProfileData(e).then(function(e){t(J(e))})}},updateStatus:function(e){return function(t){t(z(!0)),U.b.UpdateStatus(e).then(function(n){t(z(!1)),0===n.data.resultCode&&t(R(e))})}},getStatus:function(e){return function(t){U.b.GetStatus(e).then(function(e){200===e.status&&t(R(e.data))})}}}),d.f,re.a)(ie),le=n(60),ue=n.n(le),ce=function(e){return r.a.createElement("header",{className:ue.a.header},r.a.createElement("div",null,r.a.createElement("img",{className:ue.a.logo,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Radio.svg/1200px-Radio.svg.png",alt:""}),r.a.createElement("div",{className:ue.a.login},e.isAuth?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,e.login),r.a.createElement("button",{onClick:e.LogoutThunk},"Log out")):r.a.createElement(f.b,{to:"login"},"Login"))),r.a.createElement("div",{className:ue.a.menu},r.a.createElement("div",null,r.a.createElement("a",{href:"#s"},"Home")),r.a.createElement("div",null,r.a.createElement("a",{href:"#s"},"News")),r.a.createElement("div",null,r.a.createElement("a",{href:"#s"},"Feed")),r.a.createElement("div",null,r.a.createElement("a",{href:"#s"},"Messages"))))},me=n(45),fe=function(e,t,n){return{type:"SET_USER_DATA",payload:{userId:e,email:t,login:n,isAuth:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}}},de=function(){return function(e){return U.a.AuthMe().then(function(t){if(0===t.data.resultCode){var n=t.data.data,a=n.id,r=n.email,o=n.login;e(fe(a,r,o,!0))}})}},pe={userId:null,email:null,login:null,isFetching:!1,isAuth:!1},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(H.a)({},e,t.payload);case"IS_FETCHING":return Object(H.a)({},e,{isFetching:t.isFetching});default:return e}},Ee=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,this.props))}}]),t}(r.a.Component),he=Object(j.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}},{AuthMeThunk:de,LogoutThunk:function(){return function(e){U.a.Logout().then(function(t){console.log(t),0===t.data.resultCode&&e(fe({userId:null,email:null,login:null,isAuth:!1}))})}}})(Ee),be=n(133),_e=n(20),ve=n.n(_e),Oe=Object(ee.a)(30),Se=Object($.a)({form:"loginForm"})(function(e){return r.a.createElement("form",{action:"",onSubmit:e.handleSubmit,className:e.error?ve.a.formCommonError:""},e.error&&r.a.createElement("div",{className:ve.a.errorText},e.error),r.a.createElement("div",null,r.a.createElement(V.a,{validate:[ee.b,Oe],component:X.a,type:"text",placeholder:"login",name:"email"})),r.a.createElement("div",null,r.a.createElement(V.a,{validate:[ee.b,Oe],component:X.a,type:"password",placeholder:"password",name:"password"})),r.a.createElement("div",null,r.a.createElement(V.a,{component:X.a,type:"checkbox",name:"remember"}),"Remember me"),r.a.createElement("button",null,"Sign in"))}),je=function(e){return e.isAuth?r.a.createElement(be.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h3",null,"Login please"),r.a.createElement(Se,{onSubmit:function(t){e.LoginThunk(t.email,t.password,t.rememberMe)}}))},ke=Object(j.b)(function(e){return{isAuth:e.auth.isAuth}},{LoginThunk:function(e,t,n){return function(a){U.a.Login(e,t,n).then(function(e){if(console.log(e),0===e.data.resultCode)console.log(e.data),e.data.data.userId,a(de());else{var t=e.data.messages&&e.data.messages.length>0?e.data.messages[0]:"Common error of authorization";a(Object(me.a)("loginForm",{_error:t}))}})}}})(je),Pe={initSuccess:!1},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;switch((arguments.length>1?arguments[1]:void 0).type){case"INIT_APP":return Object(H.a)({},e,{initSuccess:!0});default:return e}},Ce=r.a.lazy(function(){return n.e(1).then(n.bind(null,300))}),Ne=r.a.lazy(function(){return n.e(2).then(n.bind(null,301))}),Fe=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.InitializeAppThunk()}},{key:"render",value:function(){return this.props.initSuccess?r.a.createElement(r.a.Suspense,{fallback:L},r.a.createElement(f.a,null,r.a.createElement("div",null,r.a.createElement(he,null),r.a.createElement("div",{className:b.a.content},r.a.createElement(E,null),r.a.createElement(d.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(se,null)}}),r.a.createElement(d.b,{exact:!0,path:"/dialogs",render:function(){return r.a.createElement(Ne,null)}}),r.a.createElement(d.b,{path:"/news"},r.a.createElement(_,null)),r.a.createElement(d.b,{path:"/music"},r.a.createElement(v,null)),r.a.createElement(d.b,{path:"/settings"},r.a.createElement(O,null)),r.a.createElement(d.b,{path:"/friends",render:function(){return r.a.createElement(S,null)}}),r.a.createElement(d.b,{path:"/users",render:function(){return r.a.createElement(Ce,null)}}),r.a.createElement(d.b,{path:"/login",render:function(){return r.a.createElement(ke,null)}}))))):r.a.createElement(L,null)}}]),t}(r.a.Component),ye=Object(d.f)(Object(j.b)(function(e){return{initSuccess:e.app.initSuccess}},{InitializeAppThunk:function(){return function(e){e(de()).then(function(){e({type:"INIT_APP"})})}}})(Fe)),Ae=n(122),Te={},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;arguments.length>1&&arguments[1];return e},Le=n(123),Ue=n(132),De=n(59),xe=Object(oe.c)({profilePage:W,dialogsPage:Ae.b,friendsPage:we,usersPage:Le.a,auth:ge,app:Ie,form:De.a}),Ge=Object(oe.e)(xe,Object(oe.a)(Ue.a));window.store=Ge;var Me=Ge;i.a.render(r.a.createElement(f.a,null,r.a.createElement(j.a,{store:Me},r.a.createElement(ye,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},35:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a=function(e){return e||"number"===typeof e?void 0:"Required fill"},r=function(e){return function(t){return t&&t.length>e?"max length is ".concat(e," symbols"):void 0}}},38:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var a=n(87),r=n(0),o=n.n(r),i=n(20),s=n.n(i),l=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]);return o.a.createElement("div",{className:s.a.formControl},n.touched&&n.error&&o.a.createElement("div",{className:s.a.errorText},n.error),o.a.createElement("div",null,o.a.createElement("textarea",Object.assign({},t,r,{className:n.touched&&n.error?s.a.fieldArea:""}),">")))},u=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]);return o.a.createElement("div",{className:s.a.formControl},n.touched&&n.error&&o.a.createElement("div",{className:s.a.errorText},n.error),o.a.createElement("div",null,o.a.createElement("input",Object.assign({},t,r,{className:n.touched&&n.error?s.a.fieldArea:""}))))}},42:function(e,t,n){e.exports={item:"Post_item__1DuBJ",logo:"Post_logo__1Yi-a",like:"Post_like__3uam7",logodiv:"Post_logodiv__3ZcJA",txt:"Post_txt__3ZtUi"}},60:function(e,t,n){e.exports={header:"Header_header__2eK0K",logo:"Header_logo__2I3GR",login:"Header_login__1vQQ2",menu:"Header_menu__4SLae"}},88:function(e,t,n){e.exports={user_item:"Users_user_item__32dHa",left:"Users_left__m7tFv",ava:"Users_ava__3yJcy",button:"Users_button__2mPMe",right:"Users_right__81WH_",name:"Users_name__3OEns",status:"Users_status__11jhF",loc:"Users_loc__1oGbk",pages:"Users_pages__MyCLV",selectedPage:"Users_selectedPage__3jUdx",load:"Users_load__3QYv7"}},89:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(0),r=n.n(a),o=n(1),i=n(9),s=function(e){return{isAuth:e.auth.isAuth}},l=function(e){return Object(i.b)(s)(function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(o.a,{to:"/login"})})}},91:function(e,t,n){},93:function(e,t,n){e.exports=n.p+"static/media/faceoff.b7f08d84.jpg"}},[[159,4,3]]]);
//# sourceMappingURL=main.d285e9e5.chunk.js.map